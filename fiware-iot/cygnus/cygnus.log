Warning: JAVA_HOME is not set!
+ exec /usr/bin/java -Xmx20m -Dflume.root.logger=INFO,console -Duser.timezone=UTC -Dfile.encoding=UTF-8 -cp '/opt/apache-flume/conf:/opt/apache-flume/lib/*:/opt/apache-flume/plugins.d/cygnus/lib/*:/opt/apache-flume/plugins.d/cygnus/libext/*' -Djava.library.path= com.telefonica.iot.cygnus.nodes.CygnusApplication -f /opt/apache-flume/conf/agent.conf -n cygnus-ngsi -p 8081
SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/opt/apache-flume/lib/slf4j-log4j12-1.6.1.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/opt/apache-flume/plugins.d/cygnus/lib/cygnus-ngsi-1.7.0_SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/opt/apache-flume/plugins.d/cygnus/libext/cygnus-common-1.7.0_SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
time=2017-04-22T17:31:47.788Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=N/A | op=main | msg=com.telefonica.iot.cygnus.nodes.CygnusApplication[171] : Starting Cygnus, version 1.7.0_SNAPSHOT.d3139382e76e8c1ed64187ff46aa019734b14c0a
time=2017-04-22T17:31:47.904Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=main | msg=com.telefonica.iot.cygnus.nodes.CygnusApplication[294] : Waiting for valid Flume components references...
time=2017-04-22T17:31:47.905Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=start | msg=org.apache.flume.node.PollingPropertiesFileConfigurationProvider[61] : Configuration provider starting
time=2017-04-22T17:31:47.908Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=run | msg=org.apache.flume.node.PollingPropertiesFileConfigurationProvider$FileWatcherRunnable[133] : Reloading configuration file:/opt/apache-flume/conf/agent.conf
time=2017-04-22T17:31:47.917Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:hdfs-sink
time=2017-04-22T17:31:47.918Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:sth-sink
time=2017-04-22T17:31:47.918Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:cartodb-sink
time=2017-04-22T17:31:47.920Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:ckan-sink
time=2017-04-22T17:31:47.921Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:cartodb-sink
time=2017-04-22T17:31:47.921Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:mongo-sink
time=2017-04-22T17:31:47.921Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:mysql-sink
time=2017-04-22T17:31:47.921Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:hdfs-sink
time=2017-04-22T17:31:47.921Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:hdfs-sink
time=2017-04-22T17:31:47.922Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:mysql-sink
time=2017-04-22T17:31:47.922Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:mysql-sink
time=2017-04-22T17:31:47.922Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:mysql-sink
time=2017-04-22T17:31:47.924Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:hdfs-sink
time=2017-04-22T17:31:47.924Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:mongo-sink
time=2017-04-22T17:31:47.925Z | lvl=WARN | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=<init> | msg=org.apache.flume.conf.FlumeConfiguration[101] : Configuration property ignored: cygnus-ngsi.sinks.ckan-sink.api_key = 
time=2017-04-22T17:31:47.926Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:ckan-sink
time=2017-04-22T17:31:47.926Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[930] : Added sinks: mysql-sink mongo-sink sth-sink ckan-sink hdfs-sink cartodb-sink Agent: cygnus-ngsi
time=2017-04-22T17:31:47.926Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:ckan-sink
time=2017-04-22T17:31:47.926Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:cartodb-sink
time=2017-04-22T17:31:47.926Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:hdfs-sink
time=2017-04-22T17:31:47.927Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:mysql-sink
time=2017-04-22T17:31:47.927Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:sth-sink
time=2017-04-22T17:31:47.927Z | lvl=WARN | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=<init> | msg=org.apache.flume.conf.FlumeConfiguration[101] : Configuration property ignored: cygnus-ngsi.sinks.hdfs-sink.oauth2_token = 
time=2017-04-22T17:31:47.927Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:mongo-sink
time=2017-04-22T17:31:47.927Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:mongo-sink
time=2017-04-22T17:31:47.928Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:ckan-sink
time=2017-04-22T17:31:47.928Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:sth-sink
time=2017-04-22T17:31:47.928Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:sth-sink
time=2017-04-22T17:31:47.928Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:ckan-sink
time=2017-04-22T17:31:47.928Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:sth-sink
time=2017-04-22T17:31:47.928Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:mysql-sink
time=2017-04-22T17:31:47.929Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:mongo-sink
time=2017-04-22T17:31:47.949Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=validateConfiguration | msg=org.apache.flume.conf.FlumeConfiguration[140] : Post-validation flume configuration contains configuration for agents: [cygnus-ngsi]
time=2017-04-22T17:31:47.950Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=loadChannels | msg=org.apache.flume.node.AbstractConfigurationProvider[150] : Creating channels
time=2017-04-22T17:31:47.960Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=create | msg=org.apache.flume.channel.DefaultChannelFactory[40] : Creating instance of channel cartodb-channel type com.telefonica.iot.cygnus.channels.CygnusMemoryChannel
time=2017-04-22T17:31:47.963Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=loadChannels | msg=org.apache.flume.node.AbstractConfigurationProvider[205] : Created channel cartodb-channel
time=2017-04-22T17:31:47.964Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=create | msg=org.apache.flume.channel.DefaultChannelFactory[40] : Creating instance of channel sth-channel type com.telefonica.iot.cygnus.channels.CygnusMemoryChannel
time=2017-04-22T17:31:47.964Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=loadChannels | msg=org.apache.flume.node.AbstractConfigurationProvider[205] : Created channel sth-channel
time=2017-04-22T17:31:47.964Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=create | msg=org.apache.flume.channel.DefaultChannelFactory[40] : Creating instance of channel ckan-channel type com.telefonica.iot.cygnus.channels.CygnusMemoryChannel
time=2017-04-22T17:31:47.964Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=loadChannels | msg=org.apache.flume.node.AbstractConfigurationProvider[205] : Created channel ckan-channel
time=2017-04-22T17:31:47.965Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=create | msg=org.apache.flume.channel.DefaultChannelFactory[40] : Creating instance of channel hdfs-channel type com.telefonica.iot.cygnus.channels.CygnusMemoryChannel
time=2017-04-22T17:31:47.965Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=loadChannels | msg=org.apache.flume.node.AbstractConfigurationProvider[205] : Created channel hdfs-channel
time=2017-04-22T17:31:47.965Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=create | msg=org.apache.flume.channel.DefaultChannelFactory[40] : Creating instance of channel mongo-channel type com.telefonica.iot.cygnus.channels.CygnusMemoryChannel
time=2017-04-22T17:31:47.966Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=loadChannels | msg=org.apache.flume.node.AbstractConfigurationProvider[205] : Created channel mongo-channel
time=2017-04-22T17:31:47.968Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=create | msg=org.apache.flume.channel.DefaultChannelFactory[40] : Creating instance of channel mysql-channel type com.telefonica.iot.cygnus.channels.CygnusMemoryChannel
time=2017-04-22T17:31:47.968Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=loadChannels | msg=org.apache.flume.node.AbstractConfigurationProvider[205] : Created channel mysql-channel
time=2017-04-22T17:31:47.971Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=create | msg=org.apache.flume.source.DefaultSourceFactory[39] : Creating instance of source http-source, type org.apache.flume.source.http.HTTPSource
time=2017-04-22T17:31:47.997Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=configure | msg=com.telefonica.iot.cygnus.handlers.NGSIRestHandler[157] : [NGSIRestHandler] Startup completed
time=2017-04-22T17:31:48.018Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=create | msg=org.apache.flume.sink.DefaultSinkFactory[40] : Creating instance of sink: ckan-sink, type: com.telefonica.iot.cygnus.sinks.NGSICKANSink
time=2017-04-22T17:31:48.026Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=create | msg=org.apache.flume.sink.DefaultSinkFactory[40] : Creating instance of sink: cartodb-sink, type: com.telefonica.iot.cygnus.sinks.NGSICartoDBSink
time=2017-04-22T17:31:48.030Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=create | msg=org.apache.flume.sink.DefaultSinkFactory[40] : Creating instance of sink: hdfs-sink, type: com.telefonica.iot.cygnus.sinks.NGSIHDFSSink
time=2017-04-22T17:31:48.039Z | lvl=WARN | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=configure | msg=com.telefonica.iot.cygnus.sinks.NGSIHDFSSink[289] : [hdfs-sink] No OAuth2 token provided. Cygnus can continue, but HDFS sink may not properly work if WebHDFS service is protected with such an authentication and authorization mechanism!
time=2017-04-22T17:31:48.042Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=create | msg=org.apache.flume.sink.DefaultSinkFactory[40] : Creating instance of sink: mongo-sink, type: com.telefonica.iot.cygnus.sinks.NGSIMongoSink
time=2017-04-22T17:31:48.047Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=create | msg=org.apache.flume.sink.DefaultSinkFactory[40] : Creating instance of sink: mysql-sink, type: com.telefonica.iot.cygnus.sinks.NGSIMySQLSink
time=2017-04-22T17:31:48.049Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=create | msg=org.apache.flume.sink.DefaultSinkFactory[40] : Creating instance of sink: sth-sink, type: com.telefonica.iot.cygnus.sinks.NGSISTHSink
time=2017-04-22T17:31:48.052Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=getConfiguration | msg=org.apache.flume.node.AbstractConfigurationProvider[119] : Channel cartodb-channel connected to [http-source, cartodb-sink]
time=2017-04-22T17:31:48.052Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=getConfiguration | msg=org.apache.flume.node.AbstractConfigurationProvider[119] : Channel sth-channel connected to [http-source, sth-sink]
time=2017-04-22T17:31:48.052Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=getConfiguration | msg=org.apache.flume.node.AbstractConfigurationProvider[119] : Channel ckan-channel connected to [http-source, ckan-sink]
time=2017-04-22T17:31:48.052Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=getConfiguration | msg=org.apache.flume.node.AbstractConfigurationProvider[119] : Channel hdfs-channel connected to [http-source, hdfs-sink]
time=2017-04-22T17:31:48.053Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=getConfiguration | msg=org.apache.flume.node.AbstractConfigurationProvider[119] : Channel mongo-channel connected to [http-source, mongo-sink]
time=2017-04-22T17:31:48.053Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=getConfiguration | msg=org.apache.flume.node.AbstractConfigurationProvider[119] : Channel mysql-channel connected to [http-source, mysql-sink]
time=2017-04-22T17:31:48.057Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=startAllComponents | msg=org.apache.flume.node.Application[138] : Starting new configuration:{ sourceRunners:{http-source=EventDrivenSourceRunner: { source:org.apache.flume.source.http.HTTPSource{name:http-source,state:IDLE} }} sinkRunners:{ckan-sink=SinkRunner: { policy:org.apache.flume.sink.DefaultSinkProcessor@2ff95fc4 counterGroup:{ name:null counters:{} } }, cartodb-sink=SinkRunner: { policy:org.apache.flume.sink.DefaultSinkProcessor@1cfe5577 counterGroup:{ name:null counters:{} } }, hdfs-sink=SinkRunner: { policy:org.apache.flume.sink.DefaultSinkProcessor@7d9d067f counterGroup:{ name:null counters:{} } }, mongo-sink=SinkRunner: { policy:org.apache.flume.sink.DefaultSinkProcessor@5015bc46 counterGroup:{ name:null counters:{} } }, mysql-sink=SinkRunner: { policy:org.apache.flume.sink.DefaultSinkProcessor@42fbc0bd counterGroup:{ name:null counters:{} } }, sth-sink=SinkRunner: { policy:org.apache.flume.sink.DefaultSinkProcessor@1e2adaa6 counterGroup:{ name:null counters:{} } }} channels:{cartodb-channel=com.telefonica.iot.cygnus.channels.CygnusMemoryChannel{name: cartodb-channel}, sth-channel=com.telefonica.iot.cygnus.channels.CygnusMemoryChannel{name: sth-channel}, ckan-channel=com.telefonica.iot.cygnus.channels.CygnusMemoryChannel{name: ckan-channel}, mysql-channel=com.telefonica.iot.cygnus.channels.CygnusMemoryChannel{name: mysql-channel}, mongo-channel=com.telefonica.iot.cygnus.channels.CygnusMemoryChannel{name: mongo-channel}, hdfs-channel=com.telefonica.iot.cygnus.channels.CygnusMemoryChannel{name: hdfs-channel}} }
time=2017-04-22T17:31:48.057Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=startAllComponents | msg=org.apache.flume.node.Application[145] : Starting Channel cartodb-channel
time=2017-04-22T17:31:48.059Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=startAllComponents | msg=org.apache.flume.node.Application[145] : Starting Channel sth-channel
time=2017-04-22T17:31:48.066Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=startAllComponents | msg=org.apache.flume.node.Application[145] : Starting Channel ckan-channel
time=2017-04-22T17:31:48.072Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=startAllComponents | msg=org.apache.flume.node.Application[145] : Starting Channel mysql-channel
time=2017-04-22T17:31:48.072Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=startAllComponents | msg=org.apache.flume.node.Application[145] : Starting Channel mongo-channel
time=2017-04-22T17:31:48.073Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=startAllComponents | msg=org.apache.flume.node.Application[145] : Starting Channel hdfs-channel
time=2017-04-22T17:31:48.122Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=register | msg=org.apache.flume.instrumentation.MonitoredCounterGroup[110] : Monitoried counter group for type: CHANNEL, name: cartodb-channel, registered successfully.
time=2017-04-22T17:31:48.122Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=register | msg=org.apache.flume.instrumentation.MonitoredCounterGroup[110] : Monitoried counter group for type: CHANNEL, name: ckan-channel, registered successfully.
time=2017-04-22T17:31:48.122Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=start | msg=org.apache.flume.instrumentation.MonitoredCounterGroup[94] : Component type: CHANNEL, name: cartodb-channel started
time=2017-04-22T17:31:48.122Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=register | msg=org.apache.flume.instrumentation.MonitoredCounterGroup[110] : Monitoried counter group for type: CHANNEL, name: hdfs-channel, registered successfully.
time=2017-04-22T17:31:48.122Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=register | msg=org.apache.flume.instrumentation.MonitoredCounterGroup[110] : Monitoried counter group for type: CHANNEL, name: mysql-channel, registered successfully.
time=2017-04-22T17:31:48.122Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=register | msg=org.apache.flume.instrumentation.MonitoredCounterGroup[110] : Monitoried counter group for type: CHANNEL, name: sth-channel, registered successfully.
time=2017-04-22T17:31:48.122Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=register | msg=org.apache.flume.instrumentation.MonitoredCounterGroup[110] : Monitoried counter group for type: CHANNEL, name: mongo-channel, registered successfully.
time=2017-04-22T17:31:48.123Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=start | msg=org.apache.flume.instrumentation.MonitoredCounterGroup[94] : Component type: CHANNEL, name: sth-channel started
time=2017-04-22T17:31:48.123Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=start | msg=org.apache.flume.instrumentation.MonitoredCounterGroup[94] : Component type: CHANNEL, name: mysql-channel started
time=2017-04-22T17:31:48.123Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=start | msg=org.apache.flume.instrumentation.MonitoredCounterGroup[94] : Component type: CHANNEL, name: hdfs-channel started
time=2017-04-22T17:31:48.122Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=start | msg=org.apache.flume.instrumentation.MonitoredCounterGroup[94] : Component type: CHANNEL, name: ckan-channel started
time=2017-04-22T17:31:48.123Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=start | msg=org.apache.flume.instrumentation.MonitoredCounterGroup[94] : Component type: CHANNEL, name: mongo-channel started
time=2017-04-22T17:31:48.126Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=startAllComponents | msg=org.apache.flume.node.Application[173] : Starting Sink ckan-sink
time=2017-04-22T17:31:48.127Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=startAllComponents | msg=org.apache.flume.node.Application[173] : Starting Sink cartodb-sink
time=2017-04-22T17:31:48.128Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=startAllComponents | msg=org.apache.flume.node.Application[173] : Starting Sink hdfs-sink
time=2017-04-22T17:31:48.129Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=startAllComponents | msg=org.apache.flume.node.Application[173] : Starting Sink mongo-sink
time=2017-04-22T17:31:48.130Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=startAllComponents | msg=org.apache.flume.node.Application[173] : Starting Sink mysql-sink
time=2017-04-22T17:31:48.131Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=startAllComponents | msg=org.apache.flume.node.Application[173] : Starting Sink sth-sink
time=2017-04-22T17:31:48.132Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=startAllComponents | msg=org.apache.flume.node.Application[184] : Starting Source http-source
time=2017-04-22T17:31:48.141Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=initializeBackend | msg=com.telefonica.iot.cygnus.sinks.NGSICartoDBSink[284] : [cartodb-sink] Json containing CartoDB API keys has been read: {   "cartodb_keys": [      {         "username": "carto",         "endpoint": "https://carto.cartodb.com","key":"carto"      }   ]}
time=2017-04-22T17:31:48.144Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=<init> | msg=com.telefonica.iot.cygnus.interceptors.CygnusGroupingRules[53] : Grouping rules read: 
time=2017-04-22T17:31:48.145Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=start | msg=com.telefonica.iot.cygnus.sinks.NGSISink[356] : [sth-sink] Startup completed
time=2017-04-22T17:31:48.151Z | lvl=WARN | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=<init> | msg=com.telefonica.iot.cygnus.interceptors.CygnusGroupingRules[61] : Grouping rules syntax has errors. Details: null
time=2017-04-22T17:31:48.154Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=initializeBackend | msg=com.telefonica.iot.cygnus.sinks.NGSICartoDBSink[288] : [cartodb-sink] Json containing CartoDB API keys is syntactically OK
time=2017-04-22T17:31:48.154Z | lvl=WARN | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=initializeBackend | msg=com.telefonica.iot.cygnus.sinks.NGSICartoDBSink[350] : [cartodb-sink] Invalid API key entry, type is null or empty. Discarding it.
time=2017-04-22T17:31:48.156Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=start | msg=com.telefonica.iot.cygnus.sinks.NGSICartoDBSink[274] : [cartodb-sink] Error while creating the CartoDB persistence backend. Details: All the API key entries were discarded
time=2017-04-22T17:31:48.156Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=start | msg=com.telefonica.iot.cygnus.sinks.NGSISink[346] : [cartodb-sink] Startup completed. Nevertheless, there are errors in the configuration, thus this sink will not run the expected logic
time=2017-04-22T17:31:48.156Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=<init> | msg=com.telefonica.iot.cygnus.interceptors.CygnusGroupingRules[53] : Grouping rules read: 
time=2017-04-22T17:31:48.154Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=start | msg=com.telefonica.iot.cygnus.sinks.NGSISink[356] : [mysql-sink] Startup completed
time=2017-04-22T17:31:48.160Z | lvl=WARN | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=<init> | msg=com.telefonica.iot.cygnus.interceptors.CygnusGroupingRules[61] : Grouping rules syntax has errors. Details: null
time=2017-04-22T17:31:48.168Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=start | msg=com.telefonica.iot.cygnus.sinks.NGSISink[356] : [mongo-sink] Startup completed
time=2017-04-22T17:31:48.277Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=register | msg=org.apache.flume.instrumentation.MonitoredCounterGroup[110] : Monitoried counter group for type: SOURCE, name: http-source, registered successfully.
time=2017-04-22T17:31:48.277Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=start | msg=org.apache.flume.instrumentation.MonitoredCounterGroup[94] : Component type: SOURCE, name: http-source started
time=2017-04-22T17:31:48.407Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=<init> | msg=com.telefonica.iot.cygnus.backends.http.HttpClientFactory[81] : Setting max total connections (500)
time=2017-04-22T17:31:48.407Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=<init> | msg=com.telefonica.iot.cygnus.backends.http.HttpClientFactory[81] : Setting max total connections (500)
time=2017-04-22T17:31:48.408Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=<init> | msg=com.telefonica.iot.cygnus.backends.http.HttpClientFactory[82] : Setting default max connections per route (100)
time=2017-04-22T17:31:48.408Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=<init> | msg=com.telefonica.iot.cygnus.backends.http.HttpClientFactory[82] : Setting default max connections per route (100)
time=2017-04-22T17:31:48.431Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=start | msg=com.telefonica.iot.cygnus.sinks.NGSISink[356] : [hdfs-sink] Startup completed
time=2017-04-22T17:31:48.450Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=<init> | msg=com.telefonica.iot.cygnus.backends.http.HttpClientFactory[81] : Setting max total connections (500)
time=2017-04-22T17:31:48.450Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=<init> | msg=com.telefonica.iot.cygnus.backends.http.HttpClientFactory[82] : Setting default max connections per route (100)
time=2017-04-22T17:31:48.453Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=start | msg=com.telefonica.iot.cygnus.sinks.NGSISink[356] : [ckan-sink] Startup completed
time=2017-04-22T17:31:48.905Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=main | msg=com.telefonica.iot.cygnus.nodes.CygnusApplication[306] : Starting a Jetty server listening on 0.0.0.0:8081 (Management Interface)
time=2017-04-22T17:34:52.423Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=handle | msg=com.telefonica.iot.cygnus.management.ManagementInterface[98] : Management interface request. Method: POST, URI: /v1/subscriptions
time=2017-04-22T17:34:52.484Z | lvl=ERROR | corr=86be6572-7a35-4ab3-bbc1-6065e7f0556f | trans=86be6572-7a35-4ab3-bbc1-6065e7f0556f | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=postV2 | msg=com.telefonica.iot.cygnus.management.SubscriptionsHandlers[365] : Parse error, Invalid Orion endpoint, missing X-Auth-Token"
time=2017-04-22T17:44:38.338Z | lvl=WARN | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=getEvents | msg=com.telefonica.iot.cygnus.handlers.NGSIRestHandler[230] : [NGSIRestHandler] Bad HTTP notification ('fiware-servicepath' header value must start with '/'
time=2017-04-22T17:44:38.342Z | lvl=WARN | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doPost | msg=org.apache.flume.source.http.HTTPSource$FlumeHTTPServlet[186] : Received bad request from client. 
org.apache.flume.source.http.HTTPBadRequestException: 'fiware-servicepath' header value must start with '/'
	at com.telefonica.iot.cygnus.handlers.NGSIRestHandler.getEvents(NGSIRestHandler.java:233)
	at org.apache.flume.source.http.HTTPSource$FlumeHTTPServlet.doPost(HTTPSource.java:184)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:814)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:401)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:326)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)
	at org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:945)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:756)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:218)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
	at org.mortbay.jetty.bio.SocketConnector$Connection.run(SocketConnector.java:228)
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)
time=2017-04-22T17:45:21.026Z | lvl=INFO | corr=32bee22a-994a-477a-b345-27d77452ab7f | trans=32bee22a-994a-477a-b345-27d77452ab7f | srv=qsg | subsrv=/testsink | comp=cygnus-ngsi | op=getEvents | msg=com.telefonica.iot.cygnus.handlers.NGSIRestHandler[294] : [NGSIRestHandler] Starting internal transaction (32bee22a-994a-477a-b345-27d77452ab7f)
time=2017-04-22T17:45:21.026Z | lvl=INFO | corr=32bee22a-994a-477a-b345-27d77452ab7f | trans=32bee22a-994a-477a-b345-27d77452ab7f | srv=qsg | subsrv=/testsink | comp=cygnus-ngsi | op=getEvents | msg=com.telefonica.iot.cygnus.handlers.NGSIRestHandler[312] : [NGSIRestHandler] Received data ({    "subscriptionId" : "51c0ac9ed714fb3b37d7d5a8",    "originator" : "localhost",    "contextResponses" : [        {            "contextElement" : {                "attributes" : [                    {                        "name" : "temperature",                        "type" : "float",                        "value" : "26.5"                    }                ],                "type" : "Room",                "isPattern" : "false",                "id" : "Room1"            },            "statusCode" : {                "code" : "200",                "reasonPhrase" : "OK"            }        }    ]})
time=2017-04-22T17:45:21.039Z | lvl=INFO | corr=32bee22a-994a-477a-b345-27d77452ab7f | trans=32bee22a-994a-477a-b345-27d77452ab7f | srv=qsg | subsrv=/testsink | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSICKANSink[511] : [ckan-sink] Persisting data at NGSICKANSink (orgName=qsg, pkgName=qsg_testsink, resName=room1_room, data={"recvTimeTs": "1492883121","recvTime": "2017-04-22T17:45:21.35Z","fiwareServicePath": "/testsink","entityId": "Room1","entityType": "Room","attrName": "temperature","attrType": "float","attrValue": "26.5"})
time=2017-04-22T17:45:21.044Z | lvl=INFO | corr=32bee22a-994a-477a-b345-27d77452ab7f | trans=32bee22a-994a-477a-b345-27d77452ab7f | srv=qsg | subsrv=/testsink | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIMySQLSink[539] : [mysql-sink] Persisting data at NGSIMySQLSink. Database (qsg), Table (testsink_Room1_Room), Fields ((recvTimeTs,recvTime,fiwareServicePath,entityId,entityType,attrName,attrType,attrValue,attrMd)), Values (('1492883121035','2017-04-22T17:45:21.35','/testsink','Room1','Room','temperature','float','26.5','[]'))
time=2017-04-22T17:45:21.048Z | lvl=INFO | corr=32bee22a-994a-477a-b345-27d77452ab7f | trans=32bee22a-994a-477a-b345-27d77452ab7f | srv=qsg | subsrv=/testsink | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIHDFSSink[1020] : [hdfs-sink] Persisting data at NGSIHDFSSink. HDFS file (qsg/testsink/Room1_Room/Room1_Room.txt), Data ({"recvTimeTs":"1492883121","recvTime":"2017-04-22T17:45:21.35Z","fiwareServicePath":"/testsink","entityId":"Room1","entityType":"Room","attrName":"temperature","attrType":"float","attrValue":"26.5","attrMd":[]})
time=2017-04-22T17:45:21.058Z | lvl=INFO | corr=32bee22a-994a-477a-b345-27d77452ab7f | trans=32bee22a-994a-477a-b345-27d77452ab7f | srv=qsg | subsrv=/testsink | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIMongoSink[413] : [mongo-sink] Persisting data at NGSIMongoSink. Database: sth_qsg, Collection: sth_/testsink_Room1_Room, Data: [Document{{recvTime=Sat Apr 22 17:45:21 UTC 2017, attrName=temperature, attrType=float, attrValue=26.5}}]
time=2017-04-22T17:45:21.316Z | lvl=INFO | corr=32bee22a-994a-477a-b345-27d77452ab7f | trans=32bee22a-994a-477a-b345-27d77452ab7f | srv=qsg | subsrv=/testsink | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIHDFSSink[1066] : [hdfs-sink] There was some problem with the current endpoint, trying other one. Details: Persistence error. Message: IOException, iot-hdfs
time=2017-04-22T17:45:21.320Z | lvl=ERROR | corr=32bee22a-994a-477a-b345-27d77452ab7f | trans=32bee22a-994a-477a-b345-27d77452ab7f | srv=qsg | subsrv=/testsink | comp=cygnus-ngsi | op=processNewBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[569] : Persistence error. Message: [hdfs-sink] No endpoint was available, Stack trace: [com.telefonica.iot.cygnus.sinks.NGSIHDFSSink.persistAggregation(NGSIHDFSSink.java:1076), com.telefonica.iot.cygnus.sinks.NGSIHDFSSink.persistBatch(NGSIHDFSSink.java:494), com.telefonica.iot.cygnus.sinks.NGSISink.processNewBatches(NGSISink.java:558), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:370), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:45:21.321Z | lvl=INFO | corr=32bee22a-994a-477a-b345-27d77452ab7f | trans=32bee22a-994a-477a-b345-27d77452ab7f | srv=qsg | subsrv=/testsink | comp=cygnus-ngsi | op=doRollback | msg=com.telefonica.iot.cygnus.sinks.NGSISink[625] : Rollbacking (32bee22a-994a-477a-b345-27d77452ab7f), 10 retries will be done
time=2017-04-22T17:45:21.321Z | lvl=ERROR | corr=32bee22a-994a-477a-b345-27d77452ab7f | trans=32bee22a-994a-477a-b345-27d77452ab7f | srv=qsg | subsrv=/testsink | comp=cygnus-ngsi | op=processNewBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[569] : Persistence error. Message: IOException, iot-ckan, Stack trace: [com.telefonica.iot.cygnus.backends.http.HttpBackend.doRequest(HttpBackend.java:202), com.telefonica.iot.cygnus.backends.http.HttpBackend.doRequest(HttpBackend.java:131), com.telefonica.iot.cygnus.backends.ckan.CKANCache.isCachedOrg(CKANCache.java:180), com.telefonica.iot.cygnus.backends.ckan.CKANBackendImpl.resourceLookupOrCreate(CKANBackendImpl.java:96), com.telefonica.iot.cygnus.backends.ckan.CKANBackendImpl.persist(CKANBackendImpl.java:82), com.telefonica.iot.cygnus.sinks.NGSICKANSink.persistAggregation(NGSICKANSink.java:519), com.telefonica.iot.cygnus.sinks.NGSICKANSink.persistBatch(NGSICKANSink.java:260), com.telefonica.iot.cygnus.sinks.NGSISink.processNewBatches(NGSISink.java:558), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:370), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:45:21.321Z | lvl=INFO | corr=32bee22a-994a-477a-b345-27d77452ab7f | trans=32bee22a-994a-477a-b345-27d77452ab7f | srv=qsg | subsrv=/testsink | comp=cygnus-ngsi | op=doRollback | msg=com.telefonica.iot.cygnus.sinks.NGSISink[625] : Rollbacking (32bee22a-994a-477a-b345-27d77452ab7f), 10 retries will be done
time=2017-04-22T17:45:21.548Z | lvl=ERROR | corr=32bee22a-994a-477a-b345-27d77452ab7f | trans=32bee22a-994a-477a-b345-27d77452ab7f | srv=qsg | subsrv=/testsink | comp=cygnus-ngsi | op=processNewBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[569] : Persistence error. Message: SQLException, Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server., Stack trace: [com.telefonica.iot.cygnus.backends.mysql.MySQLBackendImpl$MySQLDriver.getConnection(MySQLBackendImpl.java:416), com.telefonica.iot.cygnus.backends.mysql.MySQLBackendImpl.createDatabase(MySQLBackendImpl.java:86), com.telefonica.iot.cygnus.sinks.NGSIMySQLSink.persistAggregation(NGSIMySQLSink.java:546), com.telefonica.iot.cygnus.sinks.NGSIMySQLSink.persistBatch(NGSIMySQLSink.java:200), com.telefonica.iot.cygnus.sinks.NGSISink.processNewBatches(NGSISink.java:558), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:370), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:45:21.548Z | lvl=INFO | corr=32bee22a-994a-477a-b345-27d77452ab7f | trans=32bee22a-994a-477a-b345-27d77452ab7f | srv=qsg | subsrv=/testsink | comp=cygnus-ngsi | op=doRollback | msg=com.telefonica.iot.cygnus.sinks.NGSISink[625] : Rollbacking (32bee22a-994a-477a-b345-27d77452ab7f), 10 retries will be done
time=2017-04-22T17:45:27.322Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIHDFSSink[1020] : [hdfs-sink] Persisting data at NGSIHDFSSink. HDFS file (qsg/testsink/Room1_Room/Room1_Room.txt), Data ({"recvTimeTs":"1492883121","recvTime":"2017-04-22T17:45:21.35Z","fiwareServicePath":"/testsink","entityId":"Room1","entityType":"Room","attrName":"temperature","attrType":"float","attrValue":"26.5","attrMd":[]})
time=2017-04-22T17:45:27.323Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSICKANSink[511] : [ckan-sink] Persisting data at NGSICKANSink (orgName=qsg, pkgName=qsg_testsink, resName=room1_room, data={"recvTimeTs": "1492883121","recvTime": "2017-04-22T17:45:21.35Z","fiwareServicePath": "/testsink","entityId": "Room1","entityType": "Room","attrName": "temperature","attrType": "float","attrValue": "26.5"})
time=2017-04-22T17:45:27.324Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIHDFSSink[1066] : [hdfs-sink] There was some problem with the current endpoint, trying other one. Details: Persistence error. Message: IOException, iot-hdfs
time=2017-04-22T17:45:27.324Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: IOException, iot-ckan, Stack trace: [com.telefonica.iot.cygnus.backends.http.HttpBackend.doRequest(HttpBackend.java:202), com.telefonica.iot.cygnus.backends.http.HttpBackend.doRequest(HttpBackend.java:131), com.telefonica.iot.cygnus.backends.ckan.CKANCache.isCachedOrg(CKANCache.java:180), com.telefonica.iot.cygnus.backends.ckan.CKANBackendImpl.resourceLookupOrCreate(CKANBackendImpl.java:96), com.telefonica.iot.cygnus.backends.ckan.CKANBackendImpl.persist(CKANBackendImpl.java:82), com.telefonica.iot.cygnus.sinks.NGSICKANSink.persistAggregation(NGSICKANSink.java:519), com.telefonica.iot.cygnus.sinks.NGSICKANSink.persistBatch(NGSICKANSink.java:260), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:45:27.324Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: [hdfs-sink] No endpoint was available, Stack trace: [com.telefonica.iot.cygnus.sinks.NGSIHDFSSink.persistAggregation(NGSIHDFSSink.java:1076), com.telefonica.iot.cygnus.sinks.NGSIHDFSSink.persistBatch(NGSIHDFSSink.java:494), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:45:27.324Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #1
time=2017-04-22T17:45:27.324Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #1
time=2017-04-22T17:45:27.555Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIMySQLSink[539] : [mysql-sink] Persisting data at NGSIMySQLSink. Database (qsg), Table (testsink_Room1_Room), Fields ((recvTimeTs,recvTime,fiwareServicePath,entityId,entityType,attrName,attrType,attrValue,attrMd)), Values (('1492883121035','2017-04-22T17:45:21.35','/testsink','Room1','Room','temperature','float','26.5','[]'))
time=2017-04-22T17:45:27.560Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: SQLException, Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server., Stack trace: [com.telefonica.iot.cygnus.backends.mysql.MySQLBackendImpl$MySQLDriver.getConnection(MySQLBackendImpl.java:416), com.telefonica.iot.cygnus.backends.mysql.MySQLBackendImpl.createDatabase(MySQLBackendImpl.java:86), com.telefonica.iot.cygnus.sinks.NGSIMySQLSink.persistAggregation(NGSIMySQLSink.java:546), com.telefonica.iot.cygnus.sinks.NGSIMySQLSink.persistBatch(NGSIMySQLSink.java:200), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:45:27.560Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #1
time=2017-04-22T17:45:33.326Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSICKANSink[511] : [ckan-sink] Persisting data at NGSICKANSink (orgName=qsg, pkgName=qsg_testsink, resName=room1_room, data={"recvTimeTs": "1492883121","recvTime": "2017-04-22T17:45:21.35Z","fiwareServicePath": "/testsink","entityId": "Room1","entityType": "Room","attrName": "temperature","attrType": "float","attrValue": "26.5"})
time=2017-04-22T17:45:33.327Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIHDFSSink[1020] : [hdfs-sink] Persisting data at NGSIHDFSSink. HDFS file (qsg/testsink/Room1_Room/Room1_Room.txt), Data ({"recvTimeTs":"1492883121","recvTime":"2017-04-22T17:45:21.35Z","fiwareServicePath":"/testsink","entityId":"Room1","entityType":"Room","attrName":"temperature","attrType":"float","attrValue":"26.5","attrMd":[]})
time=2017-04-22T17:45:33.446Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIHDFSSink[1066] : [hdfs-sink] There was some problem with the current endpoint, trying other one. Details: Persistence error. Message: IOException, iot-hdfs
time=2017-04-22T17:45:33.446Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: [hdfs-sink] No endpoint was available, Stack trace: [com.telefonica.iot.cygnus.sinks.NGSIHDFSSink.persistAggregation(NGSIHDFSSink.java:1076), com.telefonica.iot.cygnus.sinks.NGSIHDFSSink.persistBatch(NGSIHDFSSink.java:494), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:45:33.447Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #2
time=2017-04-22T17:45:33.457Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: IOException, iot-ckan, Stack trace: [com.telefonica.iot.cygnus.backends.http.HttpBackend.doRequest(HttpBackend.java:202), com.telefonica.iot.cygnus.backends.http.HttpBackend.doRequest(HttpBackend.java:131), com.telefonica.iot.cygnus.backends.ckan.CKANCache.isCachedOrg(CKANCache.java:180), com.telefonica.iot.cygnus.backends.ckan.CKANBackendImpl.resourceLookupOrCreate(CKANBackendImpl.java:96), com.telefonica.iot.cygnus.backends.ckan.CKANBackendImpl.persist(CKANBackendImpl.java:82), com.telefonica.iot.cygnus.sinks.NGSICKANSink.persistAggregation(NGSICKANSink.java:519), com.telefonica.iot.cygnus.sinks.NGSICKANSink.persistBatch(NGSICKANSink.java:260), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:45:33.457Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #2
time=2017-04-22T17:45:33.562Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIMySQLSink[539] : [mysql-sink] Persisting data at NGSIMySQLSink. Database (qsg), Table (testsink_Room1_Room), Fields ((recvTimeTs,recvTime,fiwareServicePath,entityId,entityType,attrName,attrType,attrValue,attrMd)), Values (('1492883121035','2017-04-22T17:45:21.35','/testsink','Room1','Room','temperature','float','26.5','[]'))
time=2017-04-22T17:45:33.690Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: SQLException, Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server., Stack trace: [com.telefonica.iot.cygnus.backends.mysql.MySQLBackendImpl$MySQLDriver.getConnection(MySQLBackendImpl.java:416), com.telefonica.iot.cygnus.backends.mysql.MySQLBackendImpl.createDatabase(MySQLBackendImpl.java:86), com.telefonica.iot.cygnus.sinks.NGSIMySQLSink.persistAggregation(NGSIMySQLSink.java:546), com.telefonica.iot.cygnus.sinks.NGSIMySQLSink.persistBatch(NGSIMySQLSink.java:200), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:45:33.691Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #2
time=2017-04-22T17:45:40.449Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIHDFSSink[1020] : [hdfs-sink] Persisting data at NGSIHDFSSink. HDFS file (qsg/testsink/Room1_Room/Room1_Room.txt), Data ({"recvTimeTs":"1492883121","recvTime":"2017-04-22T17:45:21.35Z","fiwareServicePath":"/testsink","entityId":"Room1","entityType":"Room","attrName":"temperature","attrType":"float","attrValue":"26.5","attrMd":[]})
time=2017-04-22T17:45:40.450Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIHDFSSink[1066] : [hdfs-sink] There was some problem with the current endpoint, trying other one. Details: Persistence error. Message: IOException, iot-hdfs
time=2017-04-22T17:45:40.451Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: [hdfs-sink] No endpoint was available, Stack trace: [com.telefonica.iot.cygnus.sinks.NGSIHDFSSink.persistAggregation(NGSIHDFSSink.java:1076), com.telefonica.iot.cygnus.sinks.NGSIHDFSSink.persistBatch(NGSIHDFSSink.java:494), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:45:40.452Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #3
time=2017-04-22T17:45:40.459Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSICKANSink[511] : [ckan-sink] Persisting data at NGSICKANSink (orgName=qsg, pkgName=qsg_testsink, resName=room1_room, data={"recvTimeTs": "1492883121","recvTime": "2017-04-22T17:45:21.35Z","fiwareServicePath": "/testsink","entityId": "Room1","entityType": "Room","attrName": "temperature","attrType": "float","attrValue": "26.5"})
time=2017-04-22T17:45:40.461Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: IOException, iot-ckan, Stack trace: [com.telefonica.iot.cygnus.backends.http.HttpBackend.doRequest(HttpBackend.java:202), com.telefonica.iot.cygnus.backends.http.HttpBackend.doRequest(HttpBackend.java:131), com.telefonica.iot.cygnus.backends.ckan.CKANCache.isCachedOrg(CKANCache.java:180), com.telefonica.iot.cygnus.backends.ckan.CKANBackendImpl.resourceLookupOrCreate(CKANBackendImpl.java:96), com.telefonica.iot.cygnus.backends.ckan.CKANBackendImpl.persist(CKANBackendImpl.java:82), com.telefonica.iot.cygnus.sinks.NGSICKANSink.persistAggregation(NGSICKANSink.java:519), com.telefonica.iot.cygnus.sinks.NGSICKANSink.persistBatch(NGSICKANSink.java:260), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:45:40.461Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #3
time=2017-04-22T17:45:40.693Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIMySQLSink[539] : [mysql-sink] Persisting data at NGSIMySQLSink. Database (qsg), Table (testsink_Room1_Room), Fields ((recvTimeTs,recvTime,fiwareServicePath,entityId,entityType,attrName,attrType,attrValue,attrMd)), Values (('1492883121035','2017-04-22T17:45:21.35','/testsink','Room1','Room','temperature','float','26.5','[]'))
time=2017-04-22T17:45:40.697Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: SQLException, Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server., Stack trace: [com.telefonica.iot.cygnus.backends.mysql.MySQLBackendImpl$MySQLDriver.getConnection(MySQLBackendImpl.java:416), com.telefonica.iot.cygnus.backends.mysql.MySQLBackendImpl.createDatabase(MySQLBackendImpl.java:86), com.telefonica.iot.cygnus.sinks.NGSIMySQLSink.persistAggregation(NGSIMySQLSink.java:546), com.telefonica.iot.cygnus.sinks.NGSIMySQLSink.persistBatch(NGSIMySQLSink.java:200), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:45:40.698Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #3
time=2017-04-22T17:45:48.454Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIHDFSSink[1020] : [hdfs-sink] Persisting data at NGSIHDFSSink. HDFS file (qsg/testsink/Room1_Room/Room1_Room.txt), Data ({"recvTimeTs":"1492883121","recvTime":"2017-04-22T17:45:21.35Z","fiwareServicePath":"/testsink","entityId":"Room1","entityType":"Room","attrName":"temperature","attrType":"float","attrValue":"26.5","attrMd":[]})
time=2017-04-22T17:45:48.463Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSICKANSink[511] : [ckan-sink] Persisting data at NGSICKANSink (orgName=qsg, pkgName=qsg_testsink, resName=room1_room, data={"recvTimeTs": "1492883121","recvTime": "2017-04-22T17:45:21.35Z","fiwareServicePath": "/testsink","entityId": "Room1","entityType": "Room","attrName": "temperature","attrType": "float","attrValue": "26.5"})
time=2017-04-22T17:45:48.501Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIHDFSSink[1066] : [hdfs-sink] There was some problem with the current endpoint, trying other one. Details: Persistence error. Message: IOException, iot-hdfs
time=2017-04-22T17:45:48.502Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: [hdfs-sink] No endpoint was available, Stack trace: [com.telefonica.iot.cygnus.sinks.NGSIHDFSSink.persistAggregation(NGSIHDFSSink.java:1076), com.telefonica.iot.cygnus.sinks.NGSIHDFSSink.persistBatch(NGSIHDFSSink.java:494), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:45:48.502Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #4
time=2017-04-22T17:45:48.637Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: IOException, iot-ckan, Stack trace: [com.telefonica.iot.cygnus.backends.http.HttpBackend.doRequest(HttpBackend.java:202), com.telefonica.iot.cygnus.backends.http.HttpBackend.doRequest(HttpBackend.java:131), com.telefonica.iot.cygnus.backends.ckan.CKANCache.isCachedOrg(CKANCache.java:180), com.telefonica.iot.cygnus.backends.ckan.CKANBackendImpl.resourceLookupOrCreate(CKANBackendImpl.java:96), com.telefonica.iot.cygnus.backends.ckan.CKANBackendImpl.persist(CKANBackendImpl.java:82), com.telefonica.iot.cygnus.sinks.NGSICKANSink.persistAggregation(NGSICKANSink.java:519), com.telefonica.iot.cygnus.sinks.NGSICKANSink.persistBatch(NGSICKANSink.java:260), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:45:48.638Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #4
time=2017-04-22T17:45:48.700Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIMySQLSink[539] : [mysql-sink] Persisting data at NGSIMySQLSink. Database (qsg), Table (testsink_Room1_Room), Fields ((recvTimeTs,recvTime,fiwareServicePath,entityId,entityType,attrName,attrType,attrValue,attrMd)), Values (('1492883121035','2017-04-22T17:45:21.35','/testsink','Room1','Room','temperature','float','26.5','[]'))
time=2017-04-22T17:45:48.752Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: SQLException, Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server., Stack trace: [com.telefonica.iot.cygnus.backends.mysql.MySQLBackendImpl$MySQLDriver.getConnection(MySQLBackendImpl.java:416), com.telefonica.iot.cygnus.backends.mysql.MySQLBackendImpl.createDatabase(MySQLBackendImpl.java:86), com.telefonica.iot.cygnus.sinks.NGSIMySQLSink.persistAggregation(NGSIMySQLSink.java:546), com.telefonica.iot.cygnus.sinks.NGSIMySQLSink.persistBatch(NGSIMySQLSink.java:200), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:45:48.752Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #4
time=2017-04-22T17:45:51.332Z | lvl=ERROR | corr=32bee22a-994a-477a-b345-27d77452ab7f | trans=32bee22a-994a-477a-b345-27d77452ab7f | srv=qsg | subsrv=/testsink | comp=cygnus-ngsi | op=processNewBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[569] : Persistence error. Message: -, Timed out after 30000 ms while waiting for a server that matches PrimaryServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=iot-mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: iot-mongo}, caused by {java.net.UnknownHostException: iot-mongo}}], Stack trace: [com.telefonica.iot.cygnus.sinks.NGSIMongoSink.persistAggregation(NGSIMongoSink.java:421), com.telefonica.iot.cygnus.sinks.NGSIMongoSink.persistBatch(NGSIMongoSink.java:129), com.telefonica.iot.cygnus.sinks.NGSISink.processNewBatches(NGSISink.java:558), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:370), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:45:51.332Z | lvl=ERROR | corr=32bee22a-994a-477a-b345-27d77452ab7f | trans=32bee22a-994a-477a-b345-27d77452ab7f | srv=qsg | subsrv=/testsink | comp=cygnus-ngsi | op=processNewBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[569] : Persistence error. Message: -, Timed out after 30000 ms while waiting for a server that matches PrimaryServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=iot-mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: iot-mongo}, caused by {java.net.UnknownHostException: iot-mongo}}], Stack trace: [com.telefonica.iot.cygnus.sinks.NGSISTHSink$STHAggregator.persist(NGSISTHSink.java:374), com.telefonica.iot.cygnus.sinks.NGSISTHSink.persistBatch(NGSISTHSink.java:108), com.telefonica.iot.cygnus.sinks.NGSISink.processNewBatches(NGSISink.java:558), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:370), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:45:51.332Z | lvl=INFO | corr=32bee22a-994a-477a-b345-27d77452ab7f | trans=32bee22a-994a-477a-b345-27d77452ab7f | srv=qsg | subsrv=/testsink | comp=cygnus-ngsi | op=doRollback | msg=com.telefonica.iot.cygnus.sinks.NGSISink[625] : Rollbacking (32bee22a-994a-477a-b345-27d77452ab7f), 10 retries will be done
time=2017-04-22T17:45:51.333Z | lvl=INFO | corr=32bee22a-994a-477a-b345-27d77452ab7f | trans=32bee22a-994a-477a-b345-27d77452ab7f | srv=qsg | subsrv=/testsink | comp=cygnus-ngsi | op=doRollback | msg=com.telefonica.iot.cygnus.sinks.NGSISink[625] : Rollbacking (32bee22a-994a-477a-b345-27d77452ab7f), 10 retries will be done
time=2017-04-22T17:45:56.504Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIHDFSSink[1020] : [hdfs-sink] Persisting data at NGSIHDFSSink. HDFS file (qsg/testsink/Room1_Room/Room1_Room.txt), Data ({"recvTimeTs":"1492883121","recvTime":"2017-04-22T17:45:21.35Z","fiwareServicePath":"/testsink","entityId":"Room1","entityType":"Room","attrName":"temperature","attrType":"float","attrValue":"26.5","attrMd":[]})
time=2017-04-22T17:45:56.506Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIHDFSSink[1066] : [hdfs-sink] There was some problem with the current endpoint, trying other one. Details: Persistence error. Message: IOException, iot-hdfs
time=2017-04-22T17:45:56.507Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: [hdfs-sink] No endpoint was available, Stack trace: [com.telefonica.iot.cygnus.sinks.NGSIHDFSSink.persistAggregation(NGSIHDFSSink.java:1076), com.telefonica.iot.cygnus.sinks.NGSIHDFSSink.persistBatch(NGSIHDFSSink.java:494), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:45:56.507Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #5
time=2017-04-22T17:45:56.640Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSICKANSink[511] : [ckan-sink] Persisting data at NGSICKANSink (orgName=qsg, pkgName=qsg_testsink, resName=room1_room, data={"recvTimeTs": "1492883121","recvTime": "2017-04-22T17:45:21.35Z","fiwareServicePath": "/testsink","entityId": "Room1","entityType": "Room","attrName": "temperature","attrType": "float","attrValue": "26.5"})
time=2017-04-22T17:45:56.642Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: IOException, iot-ckan, Stack trace: [com.telefonica.iot.cygnus.backends.http.HttpBackend.doRequest(HttpBackend.java:202), com.telefonica.iot.cygnus.backends.http.HttpBackend.doRequest(HttpBackend.java:131), com.telefonica.iot.cygnus.backends.ckan.CKANCache.isCachedOrg(CKANCache.java:180), com.telefonica.iot.cygnus.backends.ckan.CKANBackendImpl.resourceLookupOrCreate(CKANBackendImpl.java:96), com.telefonica.iot.cygnus.backends.ckan.CKANBackendImpl.persist(CKANBackendImpl.java:82), com.telefonica.iot.cygnus.sinks.NGSICKANSink.persistAggregation(NGSICKANSink.java:519), com.telefonica.iot.cygnus.sinks.NGSICKANSink.persistBatch(NGSICKANSink.java:260), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:45:56.643Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #5
time=2017-04-22T17:45:56.755Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIMySQLSink[539] : [mysql-sink] Persisting data at NGSIMySQLSink. Database (qsg), Table (testsink_Room1_Room), Fields ((recvTimeTs,recvTime,fiwareServicePath,entityId,entityType,attrName,attrType,attrValue,attrMd)), Values (('1492883121035','2017-04-22T17:45:21.35','/testsink','Room1','Room','temperature','float','26.5','[]'))
time=2017-04-22T17:45:56.762Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: SQLException, Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server., Stack trace: [com.telefonica.iot.cygnus.backends.mysql.MySQLBackendImpl$MySQLDriver.getConnection(MySQLBackendImpl.java:416), com.telefonica.iot.cygnus.backends.mysql.MySQLBackendImpl.createDatabase(MySQLBackendImpl.java:86), com.telefonica.iot.cygnus.sinks.NGSIMySQLSink.persistAggregation(NGSIMySQLSink.java:546), com.telefonica.iot.cygnus.sinks.NGSIMySQLSink.persistBatch(NGSIMySQLSink.java:200), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:45:56.762Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #5
time=2017-04-22T17:45:57.337Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIMongoSink[413] : [mongo-sink] Persisting data at NGSIMongoSink. Database: sth_qsg, Collection: sth_/testsink_Room1_Room, Data: [Document{{recvTime=Sat Apr 22 17:45:21 UTC 2017, attrName=temperature, attrType=float, attrValue=26.5}}]
time=2017-04-22T17:46:05.510Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIHDFSSink[1020] : [hdfs-sink] Persisting data at NGSIHDFSSink. HDFS file (qsg/testsink/Room1_Room/Room1_Room.txt), Data ({"recvTimeTs":"1492883121","recvTime":"2017-04-22T17:45:21.35Z","fiwareServicePath":"/testsink","entityId":"Room1","entityType":"Room","attrName":"temperature","attrType":"float","attrValue":"26.5","attrMd":[]})
time=2017-04-22T17:46:05.522Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIHDFSSink[1066] : [hdfs-sink] There was some problem with the current endpoint, trying other one. Details: Persistence error. Message: IOException, iot-hdfs
time=2017-04-22T17:46:05.522Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: [hdfs-sink] No endpoint was available, Stack trace: [com.telefonica.iot.cygnus.sinks.NGSIHDFSSink.persistAggregation(NGSIHDFSSink.java:1076), com.telefonica.iot.cygnus.sinks.NGSIHDFSSink.persistBatch(NGSIHDFSSink.java:494), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:46:05.523Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #6
time=2017-04-22T17:46:05.646Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSICKANSink[511] : [ckan-sink] Persisting data at NGSICKANSink (orgName=qsg, pkgName=qsg_testsink, resName=room1_room, data={"recvTimeTs": "1492883121","recvTime": "2017-04-22T17:45:21.35Z","fiwareServicePath": "/testsink","entityId": "Room1","entityType": "Room","attrName": "temperature","attrType": "float","attrValue": "26.5"})
time=2017-04-22T17:46:05.766Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIMySQLSink[539] : [mysql-sink] Persisting data at NGSIMySQLSink. Database (qsg), Table (testsink_Room1_Room), Fields ((recvTimeTs,recvTime,fiwareServicePath,entityId,entityType,attrName,attrType,attrValue,attrMd)), Values (('1492883121035','2017-04-22T17:45:21.35','/testsink','Room1','Room','temperature','float','26.5','[]'))
time=2017-04-22T17:46:05.816Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: SQLException, Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server., Stack trace: [com.telefonica.iot.cygnus.backends.mysql.MySQLBackendImpl$MySQLDriver.getConnection(MySQLBackendImpl.java:416), com.telefonica.iot.cygnus.backends.mysql.MySQLBackendImpl.createDatabase(MySQLBackendImpl.java:86), com.telefonica.iot.cygnus.sinks.NGSIMySQLSink.persistAggregation(NGSIMySQLSink.java:546), com.telefonica.iot.cygnus.sinks.NGSIMySQLSink.persistBatch(NGSIMySQLSink.java:200), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:46:05.817Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #6
time=2017-04-22T17:46:05.836Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: IOException, iot-ckan, Stack trace: [com.telefonica.iot.cygnus.backends.http.HttpBackend.doRequest(HttpBackend.java:202), com.telefonica.iot.cygnus.backends.http.HttpBackend.doRequest(HttpBackend.java:131), com.telefonica.iot.cygnus.backends.ckan.CKANCache.isCachedOrg(CKANCache.java:180), com.telefonica.iot.cygnus.backends.ckan.CKANBackendImpl.resourceLookupOrCreate(CKANBackendImpl.java:96), com.telefonica.iot.cygnus.backends.ckan.CKANBackendImpl.persist(CKANBackendImpl.java:82), com.telefonica.iot.cygnus.sinks.NGSICKANSink.persistAggregation(NGSICKANSink.java:519), com.telefonica.iot.cygnus.sinks.NGSICKANSink.persistBatch(NGSICKANSink.java:260), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:46:05.838Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #6
time=2017-04-22T17:46:11.525Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIHDFSSink[1020] : [hdfs-sink] Persisting data at NGSIHDFSSink. HDFS file (qsg/testsink/Room1_Room/Room1_Room.txt), Data ({"recvTimeTs":"1492883121","recvTime":"2017-04-22T17:45:21.35Z","fiwareServicePath":"/testsink","entityId":"Room1","entityType":"Room","attrName":"temperature","attrType":"float","attrValue":"26.5","attrMd":[]})
time=2017-04-22T17:46:11.527Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIHDFSSink[1066] : [hdfs-sink] There was some problem with the current endpoint, trying other one. Details: Persistence error. Message: IOException, iot-hdfs
time=2017-04-22T17:46:11.528Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: [hdfs-sink] No endpoint was available, Stack trace: [com.telefonica.iot.cygnus.sinks.NGSIHDFSSink.persistAggregation(NGSIHDFSSink.java:1076), com.telefonica.iot.cygnus.sinks.NGSIHDFSSink.persistBatch(NGSIHDFSSink.java:494), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:46:11.528Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #7
time=2017-04-22T17:46:11.820Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIMySQLSink[539] : [mysql-sink] Persisting data at NGSIMySQLSink. Database (qsg), Table (testsink_Room1_Room), Fields ((recvTimeTs,recvTime,fiwareServicePath,entityId,entityType,attrName,attrType,attrValue,attrMd)), Values (('1492883121035','2017-04-22T17:45:21.35','/testsink','Room1','Room','temperature','float','26.5','[]'))
time=2017-04-22T17:46:11.827Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: SQLException, Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server., Stack trace: [com.telefonica.iot.cygnus.backends.mysql.MySQLBackendImpl$MySQLDriver.getConnection(MySQLBackendImpl.java:416), com.telefonica.iot.cygnus.backends.mysql.MySQLBackendImpl.createDatabase(MySQLBackendImpl.java:86), com.telefonica.iot.cygnus.sinks.NGSIMySQLSink.persistAggregation(NGSIMySQLSink.java:546), com.telefonica.iot.cygnus.sinks.NGSIMySQLSink.persistBatch(NGSIMySQLSink.java:200), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:46:11.827Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #7
time=2017-04-22T17:46:11.841Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSICKANSink[511] : [ckan-sink] Persisting data at NGSICKANSink (orgName=qsg, pkgName=qsg_testsink, resName=room1_room, data={"recvTimeTs": "1492883121","recvTime": "2017-04-22T17:45:21.35Z","fiwareServicePath": "/testsink","entityId": "Room1","entityType": "Room","attrName": "temperature","attrType": "float","attrValue": "26.5"})
time=2017-04-22T17:46:11.843Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: IOException, iot-ckan, Stack trace: [com.telefonica.iot.cygnus.backends.http.HttpBackend.doRequest(HttpBackend.java:202), com.telefonica.iot.cygnus.backends.http.HttpBackend.doRequest(HttpBackend.java:131), com.telefonica.iot.cygnus.backends.ckan.CKANCache.isCachedOrg(CKANCache.java:180), com.telefonica.iot.cygnus.backends.ckan.CKANBackendImpl.resourceLookupOrCreate(CKANBackendImpl.java:96), com.telefonica.iot.cygnus.backends.ckan.CKANBackendImpl.persist(CKANBackendImpl.java:82), com.telefonica.iot.cygnus.sinks.NGSICKANSink.persistAggregation(NGSICKANSink.java:519), com.telefonica.iot.cygnus.sinks.NGSICKANSink.persistBatch(NGSICKANSink.java:260), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:46:11.843Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #7
time=2017-04-22T17:46:12.276Z | lvl=INFO | corr=38281a11-3c5c-4682-9199-4e93938b6d5b | trans=38281a11-3c5c-4682-9199-4e93938b6d5b | srv=qsg | subsrv=/testsink | comp=cygnus-ngsi | op=getEvents | msg=com.telefonica.iot.cygnus.handlers.NGSIRestHandler[294] : [NGSIRestHandler] Starting internal transaction (38281a11-3c5c-4682-9199-4e93938b6d5b)
time=2017-04-22T17:46:12.277Z | lvl=INFO | corr=38281a11-3c5c-4682-9199-4e93938b6d5b | trans=38281a11-3c5c-4682-9199-4e93938b6d5b | srv=qsg | subsrv=/testsink | comp=cygnus-ngsi | op=getEvents | msg=com.telefonica.iot.cygnus.handlers.NGSIRestHandler[312] : [NGSIRestHandler] Received data ({    "subscriptionId" : "51c0ac9ed714fb3b37d7d5a8",    "originator" : "localhost",    "contextResponses" : [        {            "contextElement" : {                "attributes" : [                    {                        "name" : "temperature",                        "type" : "float",                        "value" : "26.5"                    }                ],                "type" : "Room",                "isPattern" : "false",                "id" : "Room1"            },            "statusCode" : {                "code" : "200",                "reasonPhrase" : "OK"            }        }    ]})
time=2017-04-22T17:46:12.280Z | lvl=INFO | corr=38281a11-3c5c-4682-9199-4e93938b6d5b | trans=38281a11-3c5c-4682-9199-4e93938b6d5b | srv=qsg | subsrv=/testsink | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSICKANSink[511] : [ckan-sink] Persisting data at NGSICKANSink (orgName=qsg, pkgName=qsg_testsink, resName=room1_room, data={"recvTimeTs": "1492883172","recvTime": "2017-04-22T17:46:12.280Z","fiwareServicePath": "/testsink","entityId": "Room1","entityType": "Room","attrName": "temperature","attrType": "float","attrValue": "26.5"})
time=2017-04-22T17:46:12.281Z | lvl=INFO | corr=38281a11-3c5c-4682-9199-4e93938b6d5b | trans=38281a11-3c5c-4682-9199-4e93938b6d5b | srv=qsg | subsrv=/testsink | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIHDFSSink[1020] : [hdfs-sink] Persisting data at NGSIHDFSSink. HDFS file (qsg/testsink/Room1_Room/Room1_Room.txt), Data ({"recvTimeTs":"1492883172","recvTime":"2017-04-22T17:46:12.280Z","fiwareServicePath":"/testsink","entityId":"Room1","entityType":"Room","attrName":"temperature","attrType":"float","attrValue":"26.5","attrMd":[]})
time=2017-04-22T17:46:12.282Z | lvl=ERROR | corr=38281a11-3c5c-4682-9199-4e93938b6d5b | trans=38281a11-3c5c-4682-9199-4e93938b6d5b | srv=qsg | subsrv=/testsink | comp=cygnus-ngsi | op=processNewBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[569] : Persistence error. Message: IOException, iot-ckan, Stack trace: [com.telefonica.iot.cygnus.backends.http.HttpBackend.doRequest(HttpBackend.java:202), com.telefonica.iot.cygnus.backends.http.HttpBackend.doRequest(HttpBackend.java:131), com.telefonica.iot.cygnus.backends.ckan.CKANCache.isCachedOrg(CKANCache.java:180), com.telefonica.iot.cygnus.backends.ckan.CKANBackendImpl.resourceLookupOrCreate(CKANBackendImpl.java:96), com.telefonica.iot.cygnus.backends.ckan.CKANBackendImpl.persist(CKANBackendImpl.java:82), com.telefonica.iot.cygnus.sinks.NGSICKANSink.persistAggregation(NGSICKANSink.java:519), com.telefonica.iot.cygnus.sinks.NGSICKANSink.persistBatch(NGSICKANSink.java:260), com.telefonica.iot.cygnus.sinks.NGSISink.processNewBatches(NGSISink.java:558), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:373), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:46:12.281Z | lvl=INFO | corr=38281a11-3c5c-4682-9199-4e93938b6d5b | trans=38281a11-3c5c-4682-9199-4e93938b6d5b | srv=qsg | subsrv=/testsink | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIMySQLSink[539] : [mysql-sink] Persisting data at NGSIMySQLSink. Database (qsg), Table (testsink_Room1_Room), Fields ((recvTimeTs,recvTime,fiwareServicePath,entityId,entityType,attrName,attrType,attrValue,attrMd)), Values (('1492883172280','2017-04-22T17:46:12.280','/testsink','Room1','Room','temperature','float','26.5','[]'))
time=2017-04-22T17:46:12.286Z | lvl=INFO | corr=38281a11-3c5c-4682-9199-4e93938b6d5b | trans=38281a11-3c5c-4682-9199-4e93938b6d5b | srv=qsg | subsrv=/testsink | comp=cygnus-ngsi | op=doRollback | msg=com.telefonica.iot.cygnus.sinks.NGSISink[625] : Rollbacking (38281a11-3c5c-4682-9199-4e93938b6d5b), 10 retries will be done
time=2017-04-22T17:46:12.285Z | lvl=INFO | corr=38281a11-3c5c-4682-9199-4e93938b6d5b | trans=38281a11-3c5c-4682-9199-4e93938b6d5b | srv=qsg | subsrv=/testsink | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIHDFSSink[1066] : [hdfs-sink] There was some problem with the current endpoint, trying other one. Details: Persistence error. Message: IOException, iot-hdfs
time=2017-04-22T17:46:12.287Z | lvl=ERROR | corr=38281a11-3c5c-4682-9199-4e93938b6d5b | trans=38281a11-3c5c-4682-9199-4e93938b6d5b | srv=qsg | subsrv=/testsink | comp=cygnus-ngsi | op=processNewBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[569] : Persistence error. Message: [hdfs-sink] No endpoint was available, Stack trace: [com.telefonica.iot.cygnus.sinks.NGSIHDFSSink.persistAggregation(NGSIHDFSSink.java:1076), com.telefonica.iot.cygnus.sinks.NGSIHDFSSink.persistBatch(NGSIHDFSSink.java:494), com.telefonica.iot.cygnus.sinks.NGSISink.processNewBatches(NGSISink.java:558), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:373), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:46:12.287Z | lvl=INFO | corr=38281a11-3c5c-4682-9199-4e93938b6d5b | trans=38281a11-3c5c-4682-9199-4e93938b6d5b | srv=qsg | subsrv=/testsink | comp=cygnus-ngsi | op=doRollback | msg=com.telefonica.iot.cygnus.sinks.NGSISink[625] : Rollbacking (38281a11-3c5c-4682-9199-4e93938b6d5b), 10 retries will be done
time=2017-04-22T17:46:12.290Z | lvl=ERROR | corr=38281a11-3c5c-4682-9199-4e93938b6d5b | trans=38281a11-3c5c-4682-9199-4e93938b6d5b | srv=qsg | subsrv=/testsink | comp=cygnus-ngsi | op=processNewBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[569] : Persistence error. Message: SQLException, Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server., Stack trace: [com.telefonica.iot.cygnus.backends.mysql.MySQLBackendImpl$MySQLDriver.getConnection(MySQLBackendImpl.java:416), com.telefonica.iot.cygnus.backends.mysql.MySQLBackendImpl.createDatabase(MySQLBackendImpl.java:86), com.telefonica.iot.cygnus.sinks.NGSIMySQLSink.persistAggregation(NGSIMySQLSink.java:546), com.telefonica.iot.cygnus.sinks.NGSIMySQLSink.persistBatch(NGSIMySQLSink.java:200), com.telefonica.iot.cygnus.sinks.NGSISink.processNewBatches(NGSISink.java:558), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:373), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:46:12.290Z | lvl=INFO | corr=38281a11-3c5c-4682-9199-4e93938b6d5b | trans=38281a11-3c5c-4682-9199-4e93938b6d5b | srv=qsg | subsrv=/testsink | comp=cygnus-ngsi | op=doRollback | msg=com.telefonica.iot.cygnus.sinks.NGSISink[625] : Rollbacking (38281a11-3c5c-4682-9199-4e93938b6d5b), 10 retries will be done
time=2017-04-22T17:46:24.288Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSICKANSink[511] : [ckan-sink] Persisting data at NGSICKANSink (orgName=qsg, pkgName=qsg_testsink, resName=room1_room, data={"recvTimeTs": "1492883121","recvTime": "2017-04-22T17:45:21.35Z","fiwareServicePath": "/testsink","entityId": "Room1","entityType": "Room","attrName": "temperature","attrType": "float","attrValue": "26.5"})
time=2017-04-22T17:46:24.290Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIHDFSSink[1020] : [hdfs-sink] Persisting data at NGSIHDFSSink. HDFS file (qsg/testsink/Room1_Room/Room1_Room.txt), Data ({"recvTimeTs":"1492883121","recvTime":"2017-04-22T17:45:21.35Z","fiwareServicePath":"/testsink","entityId":"Room1","entityType":"Room","attrName":"temperature","attrType":"float","attrValue":"26.5","attrMd":[]})
time=2017-04-22T17:46:24.293Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIMySQLSink[539] : [mysql-sink] Persisting data at NGSIMySQLSink. Database (qsg), Table (testsink_Room1_Room), Fields ((recvTimeTs,recvTime,fiwareServicePath,entityId,entityType,attrName,attrType,attrValue,attrMd)), Values (('1492883121035','2017-04-22T17:45:21.35','/testsink','Room1','Room','temperature','float','26.5','[]'))
time=2017-04-22T17:46:24.302Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: IOException, iot-ckan, Stack trace: [com.telefonica.iot.cygnus.backends.http.HttpBackend.doRequest(HttpBackend.java:202), com.telefonica.iot.cygnus.backends.http.HttpBackend.doRequest(HttpBackend.java:131), com.telefonica.iot.cygnus.backends.ckan.CKANCache.isCachedOrg(CKANCache.java:180), com.telefonica.iot.cygnus.backends.ckan.CKANBackendImpl.resourceLookupOrCreate(CKANBackendImpl.java:96), com.telefonica.iot.cygnus.backends.ckan.CKANBackendImpl.persist(CKANBackendImpl.java:82), com.telefonica.iot.cygnus.sinks.NGSICKANSink.persistAggregation(NGSICKANSink.java:519), com.telefonica.iot.cygnus.sinks.NGSICKANSink.persistBatch(NGSICKANSink.java:260), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:46:24.303Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #8
time=2017-04-22T17:46:24.309Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: SQLException, Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server., Stack trace: [com.telefonica.iot.cygnus.backends.mysql.MySQLBackendImpl$MySQLDriver.getConnection(MySQLBackendImpl.java:416), com.telefonica.iot.cygnus.backends.mysql.MySQLBackendImpl.createDatabase(MySQLBackendImpl.java:86), com.telefonica.iot.cygnus.sinks.NGSIMySQLSink.persistAggregation(NGSIMySQLSink.java:546), com.telefonica.iot.cygnus.sinks.NGSIMySQLSink.persistBatch(NGSIMySQLSink.java:200), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:46:24.309Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #8
time=2017-04-22T17:46:24.338Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIHDFSSink[1066] : [hdfs-sink] There was some problem with the current endpoint, trying other one. Details: Persistence error. Message: IOException, iot-hdfs
time=2017-04-22T17:46:24.339Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: [hdfs-sink] No endpoint was available, Stack trace: [com.telefonica.iot.cygnus.sinks.NGSIHDFSSink.persistAggregation(NGSIHDFSSink.java:1076), com.telefonica.iot.cygnus.sinks.NGSIHDFSSink.persistBatch(NGSIHDFSSink.java:494), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:46:24.339Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #8
time=2017-04-22T17:46:27.338Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: -, Timed out after 30000 ms while waiting for a server that matches PrimaryServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=iot-mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: iot-mongo}, caused by {java.net.UnknownHostException: iot-mongo}}], Stack trace: [com.telefonica.iot.cygnus.sinks.NGSISTHSink$STHAggregator.persist(NGSISTHSink.java:374), com.telefonica.iot.cygnus.sinks.NGSISTHSink.persistBatch(NGSISTHSink.java:108), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:46:27.339Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #1
time=2017-04-22T17:46:27.339Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: -, Timed out after 30000 ms while waiting for a server that matches PrimaryServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=iot-mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: iot-mongo}, caused by {java.net.UnknownHostException: iot-mongo}}], Stack trace: [com.telefonica.iot.cygnus.sinks.NGSIMongoSink.persistAggregation(NGSIMongoSink.java:421), com.telefonica.iot.cygnus.sinks.NGSIMongoSink.persistBatch(NGSIMongoSink.java:129), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:46:27.340Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #1
time=2017-04-22T17:46:27.341Z | lvl=INFO | corr=38281a11-3c5c-4682-9199-4e93938b6d5b | trans=38281a11-3c5c-4682-9199-4e93938b6d5b | srv=qsg | subsrv=/testsink | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIMongoSink[413] : [mongo-sink] Persisting data at NGSIMongoSink. Database: sth_qsg, Collection: sth_/testsink_Room1_Room, Data: [Document{{recvTime=Sat Apr 22 17:46:12 UTC 2017, attrName=temperature, attrType=float, attrValue=26.5}}]
time=2017-04-22T17:46:32.306Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSICKANSink[511] : [ckan-sink] Persisting data at NGSICKANSink (orgName=qsg, pkgName=qsg_testsink, resName=room1_room, data={"recvTimeTs": "1492883121","recvTime": "2017-04-22T17:45:21.35Z","fiwareServicePath": "/testsink","entityId": "Room1","entityType": "Room","attrName": "temperature","attrType": "float","attrValue": "26.5"})
time=2017-04-22T17:46:32.308Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: IOException, iot-ckan, Stack trace: [com.telefonica.iot.cygnus.backends.http.HttpBackend.doRequest(HttpBackend.java:202), com.telefonica.iot.cygnus.backends.http.HttpBackend.doRequest(HttpBackend.java:131), com.telefonica.iot.cygnus.backends.ckan.CKANCache.isCachedOrg(CKANCache.java:180), com.telefonica.iot.cygnus.backends.ckan.CKANBackendImpl.resourceLookupOrCreate(CKANBackendImpl.java:96), com.telefonica.iot.cygnus.backends.ckan.CKANBackendImpl.persist(CKANBackendImpl.java:82), com.telefonica.iot.cygnus.sinks.NGSICKANSink.persistAggregation(NGSICKANSink.java:519), com.telefonica.iot.cygnus.sinks.NGSICKANSink.persistBatch(NGSICKANSink.java:260), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:46:32.308Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #9
time=2017-04-22T17:46:32.311Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIMySQLSink[539] : [mysql-sink] Persisting data at NGSIMySQLSink. Database (qsg), Table (testsink_Room1_Room), Fields ((recvTimeTs,recvTime,fiwareServicePath,entityId,entityType,attrName,attrType,attrValue,attrMd)), Values (('1492883121035','2017-04-22T17:45:21.35','/testsink','Room1','Room','temperature','float','26.5','[]'))
time=2017-04-22T17:46:32.317Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: SQLException, Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server., Stack trace: [com.telefonica.iot.cygnus.backends.mysql.MySQLBackendImpl$MySQLDriver.getConnection(MySQLBackendImpl.java:416), com.telefonica.iot.cygnus.backends.mysql.MySQLBackendImpl.createDatabase(MySQLBackendImpl.java:86), com.telefonica.iot.cygnus.sinks.NGSIMySQLSink.persistAggregation(NGSIMySQLSink.java:546), com.telefonica.iot.cygnus.sinks.NGSIMySQLSink.persistBatch(NGSIMySQLSink.java:200), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:46:32.318Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #9
time=2017-04-22T17:46:32.341Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIHDFSSink[1020] : [hdfs-sink] Persisting data at NGSIHDFSSink. HDFS file (qsg/testsink/Room1_Room/Room1_Room.txt), Data ({"recvTimeTs":"1492883121","recvTime":"2017-04-22T17:45:21.35Z","fiwareServicePath":"/testsink","entityId":"Room1","entityType":"Room","attrName":"temperature","attrType":"float","attrValue":"26.5","attrMd":[]})
time=2017-04-22T17:46:32.344Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIHDFSSink[1066] : [hdfs-sink] There was some problem with the current endpoint, trying other one. Details: Persistence error. Message: IOException, iot-hdfs
time=2017-04-22T17:46:32.345Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: [hdfs-sink] No endpoint was available, Stack trace: [com.telefonica.iot.cygnus.sinks.NGSIHDFSSink.persistAggregation(NGSIHDFSSink.java:1076), com.telefonica.iot.cygnus.sinks.NGSIHDFSSink.persistBatch(NGSIHDFSSink.java:494), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:46:32.346Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #9
time=2017-04-22T17:46:40.310Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSICKANSink[511] : [ckan-sink] Persisting data at NGSICKANSink (orgName=qsg, pkgName=qsg_testsink, resName=room1_room, data={"recvTimeTs": "1492883121","recvTime": "2017-04-22T17:45:21.35Z","fiwareServicePath": "/testsink","entityId": "Room1","entityType": "Room","attrName": "temperature","attrType": "float","attrValue": "26.5"})
time=2017-04-22T17:46:40.320Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIMySQLSink[539] : [mysql-sink] Persisting data at NGSIMySQLSink. Database (qsg), Table (testsink_Room1_Room), Fields ((recvTimeTs,recvTime,fiwareServicePath,entityId,entityType,attrName,attrType,attrValue,attrMd)), Values (('1492883121035','2017-04-22T17:45:21.35','/testsink','Room1','Room','temperature','float','26.5','[]'))
time=2017-04-22T17:46:40.349Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIHDFSSink[1020] : [hdfs-sink] Persisting data at NGSIHDFSSink. HDFS file (qsg/testsink/Room1_Room/Room1_Room.txt), Data ({"recvTimeTs":"1492883121","recvTime":"2017-04-22T17:45:21.35Z","fiwareServicePath":"/testsink","entityId":"Room1","entityType":"Room","attrName":"temperature","attrType":"float","attrValue":"26.5","attrMd":[]})
time=2017-04-22T17:46:40.387Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIHDFSSink[1066] : [hdfs-sink] There was some problem with the current endpoint, trying other one. Details: Persistence error. Message: IOException, iot-hdfs
time=2017-04-22T17:46:40.388Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: [hdfs-sink] No endpoint was available, Stack trace: [com.telefonica.iot.cygnus.sinks.NGSIHDFSSink.persistAggregation(NGSIHDFSSink.java:1076), com.telefonica.iot.cygnus.sinks.NGSIHDFSSink.persistBatch(NGSIHDFSSink.java:494), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:46:40.389Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[470] : Finishing internal transaction (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #10
time=2017-04-22T17:46:40.437Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: IOException, iot-ckan, Stack trace: [com.telefonica.iot.cygnus.backends.http.HttpBackend.doRequest(HttpBackend.java:202), com.telefonica.iot.cygnus.backends.http.HttpBackend.doRequest(HttpBackend.java:131), com.telefonica.iot.cygnus.backends.ckan.CKANCache.isCachedOrg(CKANCache.java:180), com.telefonica.iot.cygnus.backends.ckan.CKANBackendImpl.resourceLookupOrCreate(CKANBackendImpl.java:96), com.telefonica.iot.cygnus.backends.ckan.CKANBackendImpl.persist(CKANBackendImpl.java:82), com.telefonica.iot.cygnus.sinks.NGSICKANSink.persistAggregation(NGSICKANSink.java:519), com.telefonica.iot.cygnus.sinks.NGSICKANSink.persistBatch(NGSICKANSink.java:260), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:46:40.438Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[470] : Finishing internal transaction (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #10
time=2017-04-22T17:46:40.456Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: SQLException, Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server., Stack trace: [com.telefonica.iot.cygnus.backends.mysql.MySQLBackendImpl$MySQLDriver.getConnection(MySQLBackendImpl.java:416), com.telefonica.iot.cygnus.backends.mysql.MySQLBackendImpl.createDatabase(MySQLBackendImpl.java:86), com.telefonica.iot.cygnus.sinks.NGSIMySQLSink.persistAggregation(NGSIMySQLSink.java:546), com.telefonica.iot.cygnus.sinks.NGSIMySQLSink.persistBatch(NGSIMySQLSink.java:200), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:46:40.456Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[470] : Finishing internal transaction (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #10
time=2017-04-22T17:46:48.391Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIHDFSSink[1020] : [hdfs-sink] Persisting data at NGSIHDFSSink. HDFS file (qsg/testsink/Room1_Room/Room1_Room.txt), Data ({"recvTimeTs":"1492883172","recvTime":"2017-04-22T17:46:12.280Z","fiwareServicePath":"/testsink","entityId":"Room1","entityType":"Room","attrName":"temperature","attrType":"float","attrValue":"26.5","attrMd":[]})
time=2017-04-22T17:46:48.393Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIHDFSSink[1066] : [hdfs-sink] There was some problem with the current endpoint, trying other one. Details: Persistence error. Message: IOException, iot-hdfs
time=2017-04-22T17:46:48.393Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: [hdfs-sink] No endpoint was available, Stack trace: [com.telefonica.iot.cygnus.sinks.NGSIHDFSSink.persistAggregation(NGSIHDFSSink.java:1076), com.telefonica.iot.cygnus.sinks.NGSIHDFSSink.persistBatch(NGSIHDFSSink.java:494), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:46:48.394Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #1
time=2017-04-22T17:46:48.440Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSICKANSink[511] : [ckan-sink] Persisting data at NGSICKANSink (orgName=qsg, pkgName=qsg_testsink, resName=room1_room, data={"recvTimeTs": "1492883172","recvTime": "2017-04-22T17:46:12.280Z","fiwareServicePath": "/testsink","entityId": "Room1","entityType": "Room","attrName": "temperature","attrType": "float","attrValue": "26.5"})
time=2017-04-22T17:46:48.442Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: IOException, iot-ckan, Stack trace: [com.telefonica.iot.cygnus.backends.http.HttpBackend.doRequest(HttpBackend.java:202), com.telefonica.iot.cygnus.backends.http.HttpBackend.doRequest(HttpBackend.java:131), com.telefonica.iot.cygnus.backends.ckan.CKANCache.isCachedOrg(CKANCache.java:180), com.telefonica.iot.cygnus.backends.ckan.CKANBackendImpl.resourceLookupOrCreate(CKANBackendImpl.java:96), com.telefonica.iot.cygnus.backends.ckan.CKANBackendImpl.persist(CKANBackendImpl.java:82), com.telefonica.iot.cygnus.sinks.NGSICKANSink.persistAggregation(NGSICKANSink.java:519), com.telefonica.iot.cygnus.sinks.NGSICKANSink.persistBatch(NGSICKANSink.java:260), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:46:48.443Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #1
time=2017-04-22T17:46:48.458Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIMySQLSink[539] : [mysql-sink] Persisting data at NGSIMySQLSink. Database (qsg), Table (testsink_Room1_Room), Fields ((recvTimeTs,recvTime,fiwareServicePath,entityId,entityType,attrName,attrType,attrValue,attrMd)), Values (('1492883172280','2017-04-22T17:46:12.280','/testsink','Room1','Room','temperature','float','26.5','[]'))
time=2017-04-22T17:46:48.464Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: SQLException, Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server., Stack trace: [com.telefonica.iot.cygnus.backends.mysql.MySQLBackendImpl$MySQLDriver.getConnection(MySQLBackendImpl.java:416), com.telefonica.iot.cygnus.backends.mysql.MySQLBackendImpl.createDatabase(MySQLBackendImpl.java:86), com.telefonica.iot.cygnus.sinks.NGSIMySQLSink.persistAggregation(NGSIMySQLSink.java:546), com.telefonica.iot.cygnus.sinks.NGSIMySQLSink.persistBatch(NGSIMySQLSink.java:200), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:46:48.464Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #1
time=2017-04-22T17:46:57.341Z | lvl=ERROR | corr=38281a11-3c5c-4682-9199-4e93938b6d5b | trans=38281a11-3c5c-4682-9199-4e93938b6d5b | srv=qsg | subsrv=/testsink | comp=cygnus-ngsi | op=processNewBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[569] : Persistence error. Message: -, Timed out after 30000 ms while waiting for a server that matches PrimaryServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=iot-mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: iot-mongo}, caused by {java.net.UnknownHostException: iot-mongo}}], Stack trace: [com.telefonica.iot.cygnus.sinks.NGSISTHSink$STHAggregator.persist(NGSISTHSink.java:374), com.telefonica.iot.cygnus.sinks.NGSISTHSink.persistBatch(NGSISTHSink.java:108), com.telefonica.iot.cygnus.sinks.NGSISink.processNewBatches(NGSISink.java:558), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:373), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:46:57.342Z | lvl=INFO | corr=38281a11-3c5c-4682-9199-4e93938b6d5b | trans=38281a11-3c5c-4682-9199-4e93938b6d5b | srv=qsg | subsrv=/testsink | comp=cygnus-ngsi | op=doRollback | msg=com.telefonica.iot.cygnus.sinks.NGSISink[625] : Rollbacking (38281a11-3c5c-4682-9199-4e93938b6d5b), 10 retries will be done
time=2017-04-22T17:46:57.343Z | lvl=ERROR | corr=38281a11-3c5c-4682-9199-4e93938b6d5b | trans=38281a11-3c5c-4682-9199-4e93938b6d5b | srv=qsg | subsrv=/testsink | comp=cygnus-ngsi | op=processNewBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[569] : Persistence error. Message: -, Timed out after 30000 ms while waiting for a server that matches PrimaryServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=iot-mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: iot-mongo}, caused by {java.net.UnknownHostException: iot-mongo}}], Stack trace: [com.telefonica.iot.cygnus.sinks.NGSIMongoSink.persistAggregation(NGSIMongoSink.java:421), com.telefonica.iot.cygnus.sinks.NGSIMongoSink.persistBatch(NGSIMongoSink.java:129), com.telefonica.iot.cygnus.sinks.NGSISink.processNewBatches(NGSISink.java:558), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:373), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:46:57.343Z | lvl=INFO | corr=38281a11-3c5c-4682-9199-4e93938b6d5b | trans=38281a11-3c5c-4682-9199-4e93938b6d5b | srv=qsg | subsrv=/testsink | comp=cygnus-ngsi | op=doRollback | msg=com.telefonica.iot.cygnus.sinks.NGSISink[625] : Rollbacking (38281a11-3c5c-4682-9199-4e93938b6d5b), 10 retries will be done
time=2017-04-22T17:46:57.396Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIHDFSSink[1020] : [hdfs-sink] Persisting data at NGSIHDFSSink. HDFS file (qsg/testsink/Room1_Room/Room1_Room.txt), Data ({"recvTimeTs":"1492883172","recvTime":"2017-04-22T17:46:12.280Z","fiwareServicePath":"/testsink","entityId":"Room1","entityType":"Room","attrName":"temperature","attrType":"float","attrValue":"26.5","attrMd":[]})
time=2017-04-22T17:46:57.445Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSICKANSink[511] : [ckan-sink] Persisting data at NGSICKANSink (orgName=qsg, pkgName=qsg_testsink, resName=room1_room, data={"recvTimeTs": "1492883172","recvTime": "2017-04-22T17:46:12.280Z","fiwareServicePath": "/testsink","entityId": "Room1","entityType": "Room","attrName": "temperature","attrType": "float","attrValue": "26.5"})
time=2017-04-22T17:46:57.467Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIMySQLSink[539] : [mysql-sink] Persisting data at NGSIMySQLSink. Database (qsg), Table (testsink_Room1_Room), Fields ((recvTimeTs,recvTime,fiwareServicePath,entityId,entityType,attrName,attrType,attrValue,attrMd)), Values (('1492883172280','2017-04-22T17:46:12.280','/testsink','Room1','Room','temperature','float','26.5','[]'))
time=2017-04-22T17:46:57.468Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: IOException, iot-ckan, Stack trace: [com.telefonica.iot.cygnus.backends.http.HttpBackend.doRequest(HttpBackend.java:202), com.telefonica.iot.cygnus.backends.http.HttpBackend.doRequest(HttpBackend.java:131), com.telefonica.iot.cygnus.backends.ckan.CKANCache.isCachedOrg(CKANCache.java:180), com.telefonica.iot.cygnus.backends.ckan.CKANBackendImpl.resourceLookupOrCreate(CKANBackendImpl.java:96), com.telefonica.iot.cygnus.backends.ckan.CKANBackendImpl.persist(CKANBackendImpl.java:82), com.telefonica.iot.cygnus.sinks.NGSICKANSink.persistAggregation(NGSICKANSink.java:519), com.telefonica.iot.cygnus.sinks.NGSICKANSink.persistBatch(NGSICKANSink.java:260), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:46:57.469Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #2
time=2017-04-22T17:46:57.487Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: SQLException, Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server., Stack trace: [com.telefonica.iot.cygnus.backends.mysql.MySQLBackendImpl$MySQLDriver.getConnection(MySQLBackendImpl.java:416), com.telefonica.iot.cygnus.backends.mysql.MySQLBackendImpl.createDatabase(MySQLBackendImpl.java:86), com.telefonica.iot.cygnus.sinks.NGSIMySQLSink.persistAggregation(NGSIMySQLSink.java:546), com.telefonica.iot.cygnus.sinks.NGSIMySQLSink.persistBatch(NGSIMySQLSink.java:200), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:46:57.488Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #2
time=2017-04-22T17:46:57.526Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIHDFSSink[1066] : [hdfs-sink] There was some problem with the current endpoint, trying other one. Details: Persistence error. Message: IOException, iot-hdfs
time=2017-04-22T17:46:57.527Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: [hdfs-sink] No endpoint was available, Stack trace: [com.telefonica.iot.cygnus.sinks.NGSIHDFSSink.persistAggregation(NGSIHDFSSink.java:1076), com.telefonica.iot.cygnus.sinks.NGSIHDFSSink.persistBatch(NGSIHDFSSink.java:494), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:46:57.527Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #2
time=2017-04-22T17:46:58.344Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIMongoSink[413] : [mongo-sink] Persisting data at NGSIMongoSink. Database: sth_qsg, Collection: sth_/testsink_Room1_Room, Data: [Document{{recvTime=Sat Apr 22 17:45:21 UTC 2017, attrName=temperature, attrType=float, attrValue=26.5}}]
time=2017-04-22T17:47:03.471Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSICKANSink[511] : [ckan-sink] Persisting data at NGSICKANSink (orgName=qsg, pkgName=qsg_testsink, resName=room1_room, data={"recvTimeTs": "1492883172","recvTime": "2017-04-22T17:46:12.280Z","fiwareServicePath": "/testsink","entityId": "Room1","entityType": "Room","attrName": "temperature","attrType": "float","attrValue": "26.5"})
time=2017-04-22T17:47:03.473Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: IOException, iot-ckan, Stack trace: [com.telefonica.iot.cygnus.backends.http.HttpBackend.doRequest(HttpBackend.java:202), com.telefonica.iot.cygnus.backends.http.HttpBackend.doRequest(HttpBackend.java:131), com.telefonica.iot.cygnus.backends.ckan.CKANCache.isCachedOrg(CKANCache.java:180), com.telefonica.iot.cygnus.backends.ckan.CKANBackendImpl.resourceLookupOrCreate(CKANBackendImpl.java:96), com.telefonica.iot.cygnus.backends.ckan.CKANBackendImpl.persist(CKANBackendImpl.java:82), com.telefonica.iot.cygnus.sinks.NGSICKANSink.persistAggregation(NGSICKANSink.java:519), com.telefonica.iot.cygnus.sinks.NGSICKANSink.persistBatch(NGSICKANSink.java:260), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:47:03.474Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #3
time=2017-04-22T17:47:03.490Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIMySQLSink[539] : [mysql-sink] Persisting data at NGSIMySQLSink. Database (qsg), Table (testsink_Room1_Room), Fields ((recvTimeTs,recvTime,fiwareServicePath,entityId,entityType,attrName,attrType,attrValue,attrMd)), Values (('1492883172280','2017-04-22T17:46:12.280','/testsink','Room1','Room','temperature','float','26.5','[]'))
time=2017-04-22T17:47:03.494Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: SQLException, Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server., Stack trace: [com.telefonica.iot.cygnus.backends.mysql.MySQLBackendImpl$MySQLDriver.getConnection(MySQLBackendImpl.java:416), com.telefonica.iot.cygnus.backends.mysql.MySQLBackendImpl.createDatabase(MySQLBackendImpl.java:86), com.telefonica.iot.cygnus.sinks.NGSIMySQLSink.persistAggregation(NGSIMySQLSink.java:546), com.telefonica.iot.cygnus.sinks.NGSIMySQLSink.persistBatch(NGSIMySQLSink.java:200), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:47:03.494Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #3
time=2017-04-22T17:47:03.529Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIHDFSSink[1020] : [hdfs-sink] Persisting data at NGSIHDFSSink. HDFS file (qsg/testsink/Room1_Room/Room1_Room.txt), Data ({"recvTimeTs":"1492883172","recvTime":"2017-04-22T17:46:12.280Z","fiwareServicePath":"/testsink","entityId":"Room1","entityType":"Room","attrName":"temperature","attrType":"float","attrValue":"26.5","attrMd":[]})
time=2017-04-22T17:47:03.531Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIHDFSSink[1066] : [hdfs-sink] There was some problem with the current endpoint, trying other one. Details: Persistence error. Message: IOException, iot-hdfs
time=2017-04-22T17:47:03.531Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: [hdfs-sink] No endpoint was available, Stack trace: [com.telefonica.iot.cygnus.sinks.NGSIHDFSSink.persistAggregation(NGSIHDFSSink.java:1076), com.telefonica.iot.cygnus.sinks.NGSIHDFSSink.persistBatch(NGSIHDFSSink.java:494), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:47:03.531Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #3
time=2017-04-22T17:47:10.475Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSICKANSink[511] : [ckan-sink] Persisting data at NGSICKANSink (orgName=qsg, pkgName=qsg_testsink, resName=room1_room, data={"recvTimeTs": "1492883172","recvTime": "2017-04-22T17:46:12.280Z","fiwareServicePath": "/testsink","entityId": "Room1","entityType": "Room","attrName": "temperature","attrType": "float","attrValue": "26.5"})
time=2017-04-22T17:47:10.495Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIMySQLSink[539] : [mysql-sink] Persisting data at NGSIMySQLSink. Database (qsg), Table (testsink_Room1_Room), Fields ((recvTimeTs,recvTime,fiwareServicePath,entityId,entityType,attrName,attrType,attrValue,attrMd)), Values (('1492883172280','2017-04-22T17:46:12.280','/testsink','Room1','Room','temperature','float','26.5','[]'))
time=2017-04-22T17:47:10.533Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIHDFSSink[1020] : [hdfs-sink] Persisting data at NGSIHDFSSink. HDFS file (qsg/testsink/Room1_Room/Room1_Room.txt), Data ({"recvTimeTs":"1492883172","recvTime":"2017-04-22T17:46:12.280Z","fiwareServicePath":"/testsink","entityId":"Room1","entityType":"Room","attrName":"temperature","attrType":"float","attrValue":"26.5","attrMd":[]})
time=2017-04-22T17:47:10.548Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: SQLException, Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server., Stack trace: [com.telefonica.iot.cygnus.backends.mysql.MySQLBackendImpl$MySQLDriver.getConnection(MySQLBackendImpl.java:416), com.telefonica.iot.cygnus.backends.mysql.MySQLBackendImpl.createDatabase(MySQLBackendImpl.java:86), com.telefonica.iot.cygnus.sinks.NGSIMySQLSink.persistAggregation(NGSIMySQLSink.java:546), com.telefonica.iot.cygnus.sinks.NGSIMySQLSink.persistBatch(NGSIMySQLSink.java:200), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:47:10.548Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #4
time=2017-04-22T17:47:10.654Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIHDFSSink[1066] : [hdfs-sink] There was some problem with the current endpoint, trying other one. Details: Persistence error. Message: IOException, iot-hdfs
time=2017-04-22T17:47:10.655Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: [hdfs-sink] No endpoint was available, Stack trace: [com.telefonica.iot.cygnus.sinks.NGSIHDFSSink.persistAggregation(NGSIHDFSSink.java:1076), com.telefonica.iot.cygnus.sinks.NGSIHDFSSink.persistBatch(NGSIHDFSSink.java:494), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:47:10.656Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #4
time=2017-04-22T17:47:11.074Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: IOException, iot-ckan, Stack trace: [com.telefonica.iot.cygnus.backends.http.HttpBackend.doRequest(HttpBackend.java:202), com.telefonica.iot.cygnus.backends.http.HttpBackend.doRequest(HttpBackend.java:131), com.telefonica.iot.cygnus.backends.ckan.CKANCache.isCachedOrg(CKANCache.java:180), com.telefonica.iot.cygnus.backends.ckan.CKANBackendImpl.resourceLookupOrCreate(CKANBackendImpl.java:96), com.telefonica.iot.cygnus.backends.ckan.CKANBackendImpl.persist(CKANBackendImpl.java:82), com.telefonica.iot.cygnus.sinks.NGSICKANSink.persistAggregation(NGSICKANSink.java:519), com.telefonica.iot.cygnus.sinks.NGSICKANSink.persistBatch(NGSICKANSink.java:260), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:47:11.075Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #4
time=2017-04-22T17:47:18.550Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIMySQLSink[539] : [mysql-sink] Persisting data at NGSIMySQLSink. Database (qsg), Table (testsink_Room1_Room), Fields ((recvTimeTs,recvTime,fiwareServicePath,entityId,entityType,attrName,attrType,attrValue,attrMd)), Values (('1492883172280','2017-04-22T17:46:12.280','/testsink','Room1','Room','temperature','float','26.5','[]'))
time=2017-04-22T17:47:18.555Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: SQLException, Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server., Stack trace: [com.telefonica.iot.cygnus.backends.mysql.MySQLBackendImpl$MySQLDriver.getConnection(MySQLBackendImpl.java:416), com.telefonica.iot.cygnus.backends.mysql.MySQLBackendImpl.createDatabase(MySQLBackendImpl.java:86), com.telefonica.iot.cygnus.sinks.NGSIMySQLSink.persistAggregation(NGSIMySQLSink.java:546), com.telefonica.iot.cygnus.sinks.NGSIMySQLSink.persistBatch(NGSIMySQLSink.java:200), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:47:18.556Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #5
time=2017-04-22T17:47:18.658Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIHDFSSink[1020] : [hdfs-sink] Persisting data at NGSIHDFSSink. HDFS file (qsg/testsink/Room1_Room/Room1_Room.txt), Data ({"recvTimeTs":"1492883172","recvTime":"2017-04-22T17:46:12.280Z","fiwareServicePath":"/testsink","entityId":"Room1","entityType":"Room","attrName":"temperature","attrType":"float","attrValue":"26.5","attrMd":[]})
time=2017-04-22T17:47:18.660Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIHDFSSink[1066] : [hdfs-sink] There was some problem with the current endpoint, trying other one. Details: Persistence error. Message: IOException, iot-hdfs
time=2017-04-22T17:47:18.660Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: [hdfs-sink] No endpoint was available, Stack trace: [com.telefonica.iot.cygnus.sinks.NGSIHDFSSink.persistAggregation(NGSIHDFSSink.java:1076), com.telefonica.iot.cygnus.sinks.NGSIHDFSSink.persistBatch(NGSIHDFSSink.java:494), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:47:18.661Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #5
time=2017-04-22T17:47:19.077Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSICKANSink[511] : [ckan-sink] Persisting data at NGSICKANSink (orgName=qsg, pkgName=qsg_testsink, resName=room1_room, data={"recvTimeTs": "1492883172","recvTime": "2017-04-22T17:46:12.280Z","fiwareServicePath": "/testsink","entityId": "Room1","entityType": "Room","attrName": "temperature","attrType": "float","attrValue": "26.5"})
time=2017-04-22T17:47:19.079Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: IOException, iot-ckan, Stack trace: [com.telefonica.iot.cygnus.backends.http.HttpBackend.doRequest(HttpBackend.java:202), com.telefonica.iot.cygnus.backends.http.HttpBackend.doRequest(HttpBackend.java:131), com.telefonica.iot.cygnus.backends.ckan.CKANCache.isCachedOrg(CKANCache.java:180), com.telefonica.iot.cygnus.backends.ckan.CKANBackendImpl.resourceLookupOrCreate(CKANBackendImpl.java:96), com.telefonica.iot.cygnus.backends.ckan.CKANBackendImpl.persist(CKANBackendImpl.java:82), com.telefonica.iot.cygnus.sinks.NGSICKANSink.persistAggregation(NGSICKANSink.java:519), com.telefonica.iot.cygnus.sinks.NGSICKANSink.persistBatch(NGSICKANSink.java:260), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:47:19.079Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #5
time=2017-04-22T17:47:27.558Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIMySQLSink[539] : [mysql-sink] Persisting data at NGSIMySQLSink. Database (qsg), Table (testsink_Room1_Room), Fields ((recvTimeTs,recvTime,fiwareServicePath,entityId,entityType,attrName,attrType,attrValue,attrMd)), Values (('1492883172280','2017-04-22T17:46:12.280','/testsink','Room1','Room','temperature','float','26.5','[]'))
time=2017-04-22T17:47:27.576Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: SQLException, Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server., Stack trace: [com.telefonica.iot.cygnus.backends.mysql.MySQLBackendImpl$MySQLDriver.getConnection(MySQLBackendImpl.java:416), com.telefonica.iot.cygnus.backends.mysql.MySQLBackendImpl.createDatabase(MySQLBackendImpl.java:86), com.telefonica.iot.cygnus.sinks.NGSIMySQLSink.persistAggregation(NGSIMySQLSink.java:546), com.telefonica.iot.cygnus.sinks.NGSIMySQLSink.persistBatch(NGSIMySQLSink.java:200), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:47:27.576Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #6
time=2017-04-22T17:47:27.664Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIHDFSSink[1020] : [hdfs-sink] Persisting data at NGSIHDFSSink. HDFS file (qsg/testsink/Room1_Room/Room1_Room.txt), Data ({"recvTimeTs":"1492883172","recvTime":"2017-04-22T17:46:12.280Z","fiwareServicePath":"/testsink","entityId":"Room1","entityType":"Room","attrName":"temperature","attrType":"float","attrValue":"26.5","attrMd":[]})
time=2017-04-22T17:47:27.676Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIHDFSSink[1066] : [hdfs-sink] There was some problem with the current endpoint, trying other one. Details: Persistence error. Message: IOException, iot-hdfs
time=2017-04-22T17:47:27.677Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: [hdfs-sink] No endpoint was available, Stack trace: [com.telefonica.iot.cygnus.sinks.NGSIHDFSSink.persistAggregation(NGSIHDFSSink.java:1076), com.telefonica.iot.cygnus.sinks.NGSIHDFSSink.persistBatch(NGSIHDFSSink.java:494), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:47:27.677Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #6
time=2017-04-22T17:47:28.082Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSICKANSink[511] : [ckan-sink] Persisting data at NGSICKANSink (orgName=qsg, pkgName=qsg_testsink, resName=room1_room, data={"recvTimeTs": "1492883172","recvTime": "2017-04-22T17:46:12.280Z","fiwareServicePath": "/testsink","entityId": "Room1","entityType": "Room","attrName": "temperature","attrType": "float","attrValue": "26.5"})
time=2017-04-22T17:47:28.094Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: IOException, iot-ckan, Stack trace: [com.telefonica.iot.cygnus.backends.http.HttpBackend.doRequest(HttpBackend.java:202), com.telefonica.iot.cygnus.backends.http.HttpBackend.doRequest(HttpBackend.java:131), com.telefonica.iot.cygnus.backends.ckan.CKANCache.isCachedOrg(CKANCache.java:180), com.telefonica.iot.cygnus.backends.ckan.CKANBackendImpl.resourceLookupOrCreate(CKANBackendImpl.java:96), com.telefonica.iot.cygnus.backends.ckan.CKANBackendImpl.persist(CKANBackendImpl.java:82), com.telefonica.iot.cygnus.sinks.NGSICKANSink.persistAggregation(NGSICKANSink.java:519), com.telefonica.iot.cygnus.sinks.NGSICKANSink.persistBatch(NGSICKANSink.java:260), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:47:28.095Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #6
time=2017-04-22T17:47:28.345Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: -, Timed out after 30000 ms while waiting for a server that matches PrimaryServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=iot-mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: iot-mongo}, caused by {java.net.UnknownHostException: iot-mongo}}], Stack trace: [com.telefonica.iot.cygnus.sinks.NGSISTHSink$STHAggregator.persist(NGSISTHSink.java:374), com.telefonica.iot.cygnus.sinks.NGSISTHSink.persistBatch(NGSISTHSink.java:108), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:47:28.346Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #2
time=2017-04-22T17:47:28.347Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: -, Timed out after 30000 ms while waiting for a server that matches PrimaryServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=iot-mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: iot-mongo}, caused by {java.net.UnknownHostException: iot-mongo}}], Stack trace: [com.telefonica.iot.cygnus.sinks.NGSIMongoSink.persistAggregation(NGSIMongoSink.java:421), com.telefonica.iot.cygnus.sinks.NGSIMongoSink.persistBatch(NGSIMongoSink.java:129), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:47:28.348Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #2
time=2017-04-22T17:47:28.349Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIMongoSink[413] : [mongo-sink] Persisting data at NGSIMongoSink. Database: sth_qsg, Collection: sth_/testsink_Room1_Room, Data: [Document{{recvTime=Sat Apr 22 17:46:12 UTC 2017, attrName=temperature, attrType=float, attrValue=26.5}}]
time=2017-04-22T17:47:33.578Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIMySQLSink[539] : [mysql-sink] Persisting data at NGSIMySQLSink. Database (qsg), Table (testsink_Room1_Room), Fields ((recvTimeTs,recvTime,fiwareServicePath,entityId,entityType,attrName,attrType,attrValue,attrMd)), Values (('1492883172280','2017-04-22T17:46:12.280','/testsink','Room1','Room','temperature','float','26.5','[]'))
time=2017-04-22T17:47:33.583Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: SQLException, Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server., Stack trace: [com.telefonica.iot.cygnus.backends.mysql.MySQLBackendImpl$MySQLDriver.getConnection(MySQLBackendImpl.java:416), com.telefonica.iot.cygnus.backends.mysql.MySQLBackendImpl.createDatabase(MySQLBackendImpl.java:86), com.telefonica.iot.cygnus.sinks.NGSIMySQLSink.persistAggregation(NGSIMySQLSink.java:546), com.telefonica.iot.cygnus.sinks.NGSIMySQLSink.persistBatch(NGSIMySQLSink.java:200), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:47:33.583Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #7
time=2017-04-22T17:47:33.679Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIHDFSSink[1020] : [hdfs-sink] Persisting data at NGSIHDFSSink. HDFS file (qsg/testsink/Room1_Room/Room1_Room.txt), Data ({"recvTimeTs":"1492883172","recvTime":"2017-04-22T17:46:12.280Z","fiwareServicePath":"/testsink","entityId":"Room1","entityType":"Room","attrName":"temperature","attrType":"float","attrValue":"26.5","attrMd":[]})
time=2017-04-22T17:47:33.681Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIHDFSSink[1066] : [hdfs-sink] There was some problem with the current endpoint, trying other one. Details: Persistence error. Message: IOException, iot-hdfs
time=2017-04-22T17:47:33.681Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: [hdfs-sink] No endpoint was available, Stack trace: [com.telefonica.iot.cygnus.sinks.NGSIHDFSSink.persistAggregation(NGSIHDFSSink.java:1076), com.telefonica.iot.cygnus.sinks.NGSIHDFSSink.persistBatch(NGSIHDFSSink.java:494), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:47:33.682Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #7
time=2017-04-22T17:47:34.097Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSICKANSink[511] : [ckan-sink] Persisting data at NGSICKANSink (orgName=qsg, pkgName=qsg_testsink, resName=room1_room, data={"recvTimeTs": "1492883172","recvTime": "2017-04-22T17:46:12.280Z","fiwareServicePath": "/testsink","entityId": "Room1","entityType": "Room","attrName": "temperature","attrType": "float","attrValue": "26.5"})
time=2017-04-22T17:47:34.099Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: IOException, iot-ckan, Stack trace: [com.telefonica.iot.cygnus.backends.http.HttpBackend.doRequest(HttpBackend.java:202), com.telefonica.iot.cygnus.backends.http.HttpBackend.doRequest(HttpBackend.java:131), com.telefonica.iot.cygnus.backends.ckan.CKANCache.isCachedOrg(CKANCache.java:180), com.telefonica.iot.cygnus.backends.ckan.CKANBackendImpl.resourceLookupOrCreate(CKANBackendImpl.java:96), com.telefonica.iot.cygnus.backends.ckan.CKANBackendImpl.persist(CKANBackendImpl.java:82), com.telefonica.iot.cygnus.sinks.NGSICKANSink.persistAggregation(NGSICKANSink.java:519), com.telefonica.iot.cygnus.sinks.NGSICKANSink.persistBatch(NGSICKANSink.java:260), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:47:34.099Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #7
time=2017-04-22T17:47:40.585Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIMySQLSink[539] : [mysql-sink] Persisting data at NGSIMySQLSink. Database (qsg), Table (testsink_Room1_Room), Fields ((recvTimeTs,recvTime,fiwareServicePath,entityId,entityType,attrName,attrType,attrValue,attrMd)), Values (('1492883172280','2017-04-22T17:46:12.280','/testsink','Room1','Room','temperature','float','26.5','[]'))
time=2017-04-22T17:47:40.684Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIHDFSSink[1020] : [hdfs-sink] Persisting data at NGSIHDFSSink. HDFS file (qsg/testsink/Room1_Room/Room1_Room.txt), Data ({"recvTimeTs":"1492883172","recvTime":"2017-04-22T17:46:12.280Z","fiwareServicePath":"/testsink","entityId":"Room1","entityType":"Room","attrName":"temperature","attrType":"float","attrValue":"26.5","attrMd":[]})
time=2017-04-22T17:47:40.704Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: SQLException, Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server., Stack trace: [com.telefonica.iot.cygnus.backends.mysql.MySQLBackendImpl$MySQLDriver.getConnection(MySQLBackendImpl.java:416), com.telefonica.iot.cygnus.backends.mysql.MySQLBackendImpl.createDatabase(MySQLBackendImpl.java:86), com.telefonica.iot.cygnus.sinks.NGSIMySQLSink.persistAggregation(NGSIMySQLSink.java:546), com.telefonica.iot.cygnus.sinks.NGSIMySQLSink.persistBatch(NGSIMySQLSink.java:200), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:47:40.705Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #8
time=2017-04-22T17:47:40.856Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIHDFSSink[1066] : [hdfs-sink] There was some problem with the current endpoint, trying other one. Details: Persistence error. Message: IOException, iot-hdfs
time=2017-04-22T17:47:40.857Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: [hdfs-sink] No endpoint was available, Stack trace: [com.telefonica.iot.cygnus.sinks.NGSIHDFSSink.persistAggregation(NGSIHDFSSink.java:1076), com.telefonica.iot.cygnus.sinks.NGSIHDFSSink.persistBatch(NGSIHDFSSink.java:494), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:47:40.858Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #8
time=2017-04-22T17:47:41.101Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSICKANSink[511] : [ckan-sink] Persisting data at NGSICKANSink (orgName=qsg, pkgName=qsg_testsink, resName=room1_room, data={"recvTimeTs": "1492883172","recvTime": "2017-04-22T17:46:12.280Z","fiwareServicePath": "/testsink","entityId": "Room1","entityType": "Room","attrName": "temperature","attrType": "float","attrValue": "26.5"})
time=2017-04-22T17:47:41.225Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: IOException, iot-ckan, Stack trace: [com.telefonica.iot.cygnus.backends.http.HttpBackend.doRequest(HttpBackend.java:202), com.telefonica.iot.cygnus.backends.http.HttpBackend.doRequest(HttpBackend.java:131), com.telefonica.iot.cygnus.backends.ckan.CKANCache.isCachedOrg(CKANCache.java:180), com.telefonica.iot.cygnus.backends.ckan.CKANBackendImpl.resourceLookupOrCreate(CKANBackendImpl.java:96), com.telefonica.iot.cygnus.backends.ckan.CKANBackendImpl.persist(CKANBackendImpl.java:82), com.telefonica.iot.cygnus.sinks.NGSICKANSink.persistAggregation(NGSICKANSink.java:519), com.telefonica.iot.cygnus.sinks.NGSICKANSink.persistBatch(NGSICKANSink.java:260), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:47:41.226Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #8
time=2017-04-22T17:47:48.707Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIMySQLSink[539] : [mysql-sink] Persisting data at NGSIMySQLSink. Database (qsg), Table (testsink_Room1_Room), Fields ((recvTimeTs,recvTime,fiwareServicePath,entityId,entityType,attrName,attrType,attrValue,attrMd)), Values (('1492883172280','2017-04-22T17:46:12.280','/testsink','Room1','Room','temperature','float','26.5','[]'))
time=2017-04-22T17:47:48.711Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: SQLException, Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server., Stack trace: [com.telefonica.iot.cygnus.backends.mysql.MySQLBackendImpl$MySQLDriver.getConnection(MySQLBackendImpl.java:416), com.telefonica.iot.cygnus.backends.mysql.MySQLBackendImpl.createDatabase(MySQLBackendImpl.java:86), com.telefonica.iot.cygnus.sinks.NGSIMySQLSink.persistAggregation(NGSIMySQLSink.java:546), com.telefonica.iot.cygnus.sinks.NGSIMySQLSink.persistBatch(NGSIMySQLSink.java:200), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:47:48.712Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #9
time=2017-04-22T17:47:48.860Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIHDFSSink[1020] : [hdfs-sink] Persisting data at NGSIHDFSSink. HDFS file (qsg/testsink/Room1_Room/Room1_Room.txt), Data ({"recvTimeTs":"1492883172","recvTime":"2017-04-22T17:46:12.280Z","fiwareServicePath":"/testsink","entityId":"Room1","entityType":"Room","attrName":"temperature","attrType":"float","attrValue":"26.5","attrMd":[]})
time=2017-04-22T17:47:48.861Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIHDFSSink[1066] : [hdfs-sink] There was some problem with the current endpoint, trying other one. Details: Persistence error. Message: IOException, iot-hdfs
time=2017-04-22T17:47:48.862Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: [hdfs-sink] No endpoint was available, Stack trace: [com.telefonica.iot.cygnus.sinks.NGSIHDFSSink.persistAggregation(NGSIHDFSSink.java:1076), com.telefonica.iot.cygnus.sinks.NGSIHDFSSink.persistBatch(NGSIHDFSSink.java:494), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:47:48.862Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #9
time=2017-04-22T17:47:49.227Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSICKANSink[511] : [ckan-sink] Persisting data at NGSICKANSink (orgName=qsg, pkgName=qsg_testsink, resName=room1_room, data={"recvTimeTs": "1492883172","recvTime": "2017-04-22T17:46:12.280Z","fiwareServicePath": "/testsink","entityId": "Room1","entityType": "Room","attrName": "temperature","attrType": "float","attrValue": "26.5"})
time=2017-04-22T17:47:49.229Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: IOException, iot-ckan, Stack trace: [com.telefonica.iot.cygnus.backends.http.HttpBackend.doRequest(HttpBackend.java:202), com.telefonica.iot.cygnus.backends.http.HttpBackend.doRequest(HttpBackend.java:131), com.telefonica.iot.cygnus.backends.ckan.CKANCache.isCachedOrg(CKANCache.java:180), com.telefonica.iot.cygnus.backends.ckan.CKANBackendImpl.resourceLookupOrCreate(CKANBackendImpl.java:96), com.telefonica.iot.cygnus.backends.ckan.CKANBackendImpl.persist(CKANBackendImpl.java:82), com.telefonica.iot.cygnus.sinks.NGSICKANSink.persistAggregation(NGSICKANSink.java:519), com.telefonica.iot.cygnus.sinks.NGSICKANSink.persistBatch(NGSICKANSink.java:260), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:47:49.230Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #9
time=2017-04-22T17:47:57.715Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIMySQLSink[539] : [mysql-sink] Persisting data at NGSIMySQLSink. Database (qsg), Table (testsink_Room1_Room), Fields ((recvTimeTs,recvTime,fiwareServicePath,entityId,entityType,attrName,attrType,attrValue,attrMd)), Values (('1492883172280','2017-04-22T17:46:12.280','/testsink','Room1','Room','temperature','float','26.5','[]'))
time=2017-04-22T17:47:57.801Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: SQLException, Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server., Stack trace: [com.telefonica.iot.cygnus.backends.mysql.MySQLBackendImpl$MySQLDriver.getConnection(MySQLBackendImpl.java:416), com.telefonica.iot.cygnus.backends.mysql.MySQLBackendImpl.createDatabase(MySQLBackendImpl.java:86), com.telefonica.iot.cygnus.sinks.NGSIMySQLSink.persistAggregation(NGSIMySQLSink.java:546), com.telefonica.iot.cygnus.sinks.NGSIMySQLSink.persistBatch(NGSIMySQLSink.java:200), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:47:57.801Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[470] : Finishing internal transaction (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #10
time=2017-04-22T17:47:57.865Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIHDFSSink[1020] : [hdfs-sink] Persisting data at NGSIHDFSSink. HDFS file (qsg/testsink/Room1_Room/Room1_Room.txt), Data ({"recvTimeTs":"1492883172","recvTime":"2017-04-22T17:46:12.280Z","fiwareServicePath":"/testsink","entityId":"Room1","entityType":"Room","attrName":"temperature","attrType":"float","attrValue":"26.5","attrMd":[]})
time=2017-04-22T17:47:57.876Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIHDFSSink[1066] : [hdfs-sink] There was some problem with the current endpoint, trying other one. Details: Persistence error. Message: IOException, iot-hdfs
time=2017-04-22T17:47:57.877Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: [hdfs-sink] No endpoint was available, Stack trace: [com.telefonica.iot.cygnus.sinks.NGSIHDFSSink.persistAggregation(NGSIHDFSSink.java:1076), com.telefonica.iot.cygnus.sinks.NGSIHDFSSink.persistBatch(NGSIHDFSSink.java:494), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:47:57.878Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[470] : Finishing internal transaction (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #10
time=2017-04-22T17:47:58.233Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSICKANSink[511] : [ckan-sink] Persisting data at NGSICKANSink (orgName=qsg, pkgName=qsg_testsink, resName=room1_room, data={"recvTimeTs": "1492883172","recvTime": "2017-04-22T17:46:12.280Z","fiwareServicePath": "/testsink","entityId": "Room1","entityType": "Room","attrName": "temperature","attrType": "float","attrValue": "26.5"})
time=2017-04-22T17:47:58.280Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: IOException, iot-ckan, Stack trace: [com.telefonica.iot.cygnus.backends.http.HttpBackend.doRequest(HttpBackend.java:202), com.telefonica.iot.cygnus.backends.http.HttpBackend.doRequest(HttpBackend.java:131), com.telefonica.iot.cygnus.backends.ckan.CKANCache.isCachedOrg(CKANCache.java:180), com.telefonica.iot.cygnus.backends.ckan.CKANBackendImpl.resourceLookupOrCreate(CKANBackendImpl.java:96), com.telefonica.iot.cygnus.backends.ckan.CKANBackendImpl.persist(CKANBackendImpl.java:82), com.telefonica.iot.cygnus.sinks.NGSICKANSink.persistAggregation(NGSICKANSink.java:519), com.telefonica.iot.cygnus.sinks.NGSICKANSink.persistBatch(NGSICKANSink.java:260), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:47:58.280Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[470] : Finishing internal transaction (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #10
time=2017-04-22T17:47:58.349Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: -, Timed out after 30000 ms while waiting for a server that matches PrimaryServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=iot-mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: iot-mongo}, caused by {java.net.UnknownHostException: iot-mongo}}], Stack trace: [com.telefonica.iot.cygnus.sinks.NGSISTHSink$STHAggregator.persist(NGSISTHSink.java:374), com.telefonica.iot.cygnus.sinks.NGSISTHSink.persistBatch(NGSISTHSink.java:108), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:47:58.350Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #1
time=2017-04-22T17:47:58.351Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: -, Timed out after 30000 ms while waiting for a server that matches PrimaryServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=iot-mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: iot-mongo}, caused by {java.net.UnknownHostException: iot-mongo}}], Stack trace: [com.telefonica.iot.cygnus.sinks.NGSIMongoSink.persistAggregation(NGSIMongoSink.java:421), com.telefonica.iot.cygnus.sinks.NGSIMongoSink.persistBatch(NGSIMongoSink.java:129), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:47:58.352Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #1
time=2017-04-22T17:47:58.353Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIMongoSink[413] : [mongo-sink] Persisting data at NGSIMongoSink. Database: sth_qsg, Collection: sth_/testsink_Room1_Room, Data: [Document{{recvTime=Sat Apr 22 17:45:21 UTC 2017, attrName=temperature, attrType=float, attrValue=26.5}}]
time=2017-04-22T17:48:28.352Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: -, Timed out after 30000 ms while waiting for a server that matches PrimaryServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=iot-mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: iot-mongo}, caused by {java.net.UnknownHostException: iot-mongo}}], Stack trace: [com.telefonica.iot.cygnus.sinks.NGSISTHSink$STHAggregator.persist(NGSISTHSink.java:374), com.telefonica.iot.cygnus.sinks.NGSISTHSink.persistBatch(NGSISTHSink.java:108), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:48:28.354Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #3
time=2017-04-22T17:48:28.354Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: -, Timed out after 30000 ms while waiting for a server that matches PrimaryServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=iot-mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: iot-mongo}, caused by {java.net.UnknownHostException: iot-mongo}}], Stack trace: [com.telefonica.iot.cygnus.sinks.NGSIMongoSink.persistAggregation(NGSIMongoSink.java:421), com.telefonica.iot.cygnus.sinks.NGSIMongoSink.persistBatch(NGSIMongoSink.java:129), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:48:28.355Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #3
time=2017-04-22T17:48:28.356Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIMongoSink[413] : [mongo-sink] Persisting data at NGSIMongoSink. Database: sth_qsg, Collection: sth_/testsink_Room1_Room, Data: [Document{{recvTime=Sat Apr 22 17:46:12 UTC 2017, attrName=temperature, attrType=float, attrValue=26.5}}]
time=2017-04-22T17:48:58.356Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: -, Timed out after 30000 ms while waiting for a server that matches PrimaryServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=iot-mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: iot-mongo}, caused by {java.net.UnknownHostException: iot-mongo}}], Stack trace: [com.telefonica.iot.cygnus.sinks.NGSISTHSink$STHAggregator.persist(NGSISTHSink.java:374), com.telefonica.iot.cygnus.sinks.NGSISTHSink.persistBatch(NGSISTHSink.java:108), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:48:58.357Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #2
time=2017-04-22T17:48:58.358Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: -, Timed out after 30000 ms while waiting for a server that matches PrimaryServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=iot-mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: iot-mongo}, caused by {java.net.UnknownHostException: iot-mongo}}], Stack trace: [com.telefonica.iot.cygnus.sinks.NGSIMongoSink.persistAggregation(NGSIMongoSink.java:421), com.telefonica.iot.cygnus.sinks.NGSIMongoSink.persistBatch(NGSIMongoSink.java:129), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:48:58.359Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #2
time=2017-04-22T17:48:58.360Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIMongoSink[413] : [mongo-sink] Persisting data at NGSIMongoSink. Database: sth_qsg, Collection: sth_/testsink_Room1_Room, Data: [Document{{recvTime=Sat Apr 22 17:45:21 UTC 2017, attrName=temperature, attrType=float, attrValue=26.5}}]
time=2017-04-22T17:49:28.360Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: -, Timed out after 30000 ms while waiting for a server that matches PrimaryServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=iot-mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: iot-mongo}, caused by {java.net.UnknownHostException: iot-mongo}}], Stack trace: [com.telefonica.iot.cygnus.sinks.NGSISTHSink$STHAggregator.persist(NGSISTHSink.java:374), com.telefonica.iot.cygnus.sinks.NGSISTHSink.persistBatch(NGSISTHSink.java:108), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:49:28.361Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #4
time=2017-04-22T17:49:28.361Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: -, Timed out after 30000 ms while waiting for a server that matches PrimaryServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=iot-mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: iot-mongo}, caused by {java.net.UnknownHostException: iot-mongo}}], Stack trace: [com.telefonica.iot.cygnus.sinks.NGSIMongoSink.persistAggregation(NGSIMongoSink.java:421), com.telefonica.iot.cygnus.sinks.NGSIMongoSink.persistBatch(NGSIMongoSink.java:129), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:49:28.362Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #4
time=2017-04-22T17:49:28.363Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIMongoSink[413] : [mongo-sink] Persisting data at NGSIMongoSink. Database: sth_qsg, Collection: sth_/testsink_Room1_Room, Data: [Document{{recvTime=Sat Apr 22 17:46:12 UTC 2017, attrName=temperature, attrType=float, attrValue=26.5}}]
time=2017-04-22T17:49:58.364Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: -, Timed out after 30000 ms while waiting for a server that matches PrimaryServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=iot-mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: iot-mongo}, caused by {java.net.UnknownHostException: iot-mongo}}], Stack trace: [com.telefonica.iot.cygnus.sinks.NGSISTHSink$STHAggregator.persist(NGSISTHSink.java:374), com.telefonica.iot.cygnus.sinks.NGSISTHSink.persistBatch(NGSISTHSink.java:108), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:49:58.365Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #3
time=2017-04-22T17:49:58.365Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: -, Timed out after 30000 ms while waiting for a server that matches PrimaryServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=iot-mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: iot-mongo}, caused by {java.net.UnknownHostException: iot-mongo}}], Stack trace: [com.telefonica.iot.cygnus.sinks.NGSIMongoSink.persistAggregation(NGSIMongoSink.java:421), com.telefonica.iot.cygnus.sinks.NGSIMongoSink.persistBatch(NGSIMongoSink.java:129), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:49:58.366Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #3
time=2017-04-22T17:49:58.367Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIMongoSink[413] : [mongo-sink] Persisting data at NGSIMongoSink. Database: sth_qsg, Collection: sth_/testsink_Room1_Room, Data: [Document{{recvTime=Sat Apr 22 17:45:21 UTC 2017, attrName=temperature, attrType=float, attrValue=26.5}}]
time=2017-04-22T17:50:28.367Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: -, Timed out after 30000 ms while waiting for a server that matches PrimaryServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=iot-mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: iot-mongo}, caused by {java.net.UnknownHostException: iot-mongo}}], Stack trace: [com.telefonica.iot.cygnus.sinks.NGSISTHSink$STHAggregator.persist(NGSISTHSink.java:374), com.telefonica.iot.cygnus.sinks.NGSISTHSink.persistBatch(NGSISTHSink.java:108), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:50:28.368Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #5
time=2017-04-22T17:50:28.368Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: -, Timed out after 30000 ms while waiting for a server that matches PrimaryServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=iot-mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: iot-mongo}, caused by {java.net.UnknownHostException: iot-mongo}}], Stack trace: [com.telefonica.iot.cygnus.sinks.NGSIMongoSink.persistAggregation(NGSIMongoSink.java:421), com.telefonica.iot.cygnus.sinks.NGSIMongoSink.persistBatch(NGSIMongoSink.java:129), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:50:28.369Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #5
time=2017-04-22T17:50:28.370Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIMongoSink[413] : [mongo-sink] Persisting data at NGSIMongoSink. Database: sth_qsg, Collection: sth_/testsink_Room1_Room, Data: [Document{{recvTime=Sat Apr 22 17:46:12 UTC 2017, attrName=temperature, attrType=float, attrValue=26.5}}]
time=2017-04-22T17:50:58.371Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: -, Timed out after 30000 ms while waiting for a server that matches PrimaryServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=iot-mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: iot-mongo}, caused by {java.net.UnknownHostException: iot-mongo}}], Stack trace: [com.telefonica.iot.cygnus.sinks.NGSISTHSink$STHAggregator.persist(NGSISTHSink.java:374), com.telefonica.iot.cygnus.sinks.NGSISTHSink.persistBatch(NGSISTHSink.java:108), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:50:58.372Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #4
time=2017-04-22T17:50:58.372Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: -, Timed out after 30000 ms while waiting for a server that matches PrimaryServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=iot-mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: iot-mongo}, caused by {java.net.UnknownHostException: iot-mongo}}], Stack trace: [com.telefonica.iot.cygnus.sinks.NGSIMongoSink.persistAggregation(NGSIMongoSink.java:421), com.telefonica.iot.cygnus.sinks.NGSIMongoSink.persistBatch(NGSIMongoSink.java:129), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:50:58.373Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #4
time=2017-04-22T17:50:58.374Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIMongoSink[413] : [mongo-sink] Persisting data at NGSIMongoSink. Database: sth_qsg, Collection: sth_/testsink_Room1_Room, Data: [Document{{recvTime=Sat Apr 22 17:45:21 UTC 2017, attrName=temperature, attrType=float, attrValue=26.5}}]
time=2017-04-22T17:51:28.375Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: -, Timed out after 30000 ms while waiting for a server that matches PrimaryServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=iot-mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: iot-mongo}, caused by {java.net.UnknownHostException: iot-mongo}}], Stack trace: [com.telefonica.iot.cygnus.sinks.NGSISTHSink$STHAggregator.persist(NGSISTHSink.java:374), com.telefonica.iot.cygnus.sinks.NGSISTHSink.persistBatch(NGSISTHSink.java:108), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:51:28.376Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #6
time=2017-04-22T17:51:28.376Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: -, Timed out after 30000 ms while waiting for a server that matches PrimaryServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=iot-mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: iot-mongo}, caused by {java.net.UnknownHostException: iot-mongo}}], Stack trace: [com.telefonica.iot.cygnus.sinks.NGSIMongoSink.persistAggregation(NGSIMongoSink.java:421), com.telefonica.iot.cygnus.sinks.NGSIMongoSink.persistBatch(NGSIMongoSink.java:129), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:51:28.377Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #6
time=2017-04-22T17:51:28.379Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIMongoSink[413] : [mongo-sink] Persisting data at NGSIMongoSink. Database: sth_qsg, Collection: sth_/testsink_Room1_Room, Data: [Document{{recvTime=Sat Apr 22 17:46:12 UTC 2017, attrName=temperature, attrType=float, attrValue=26.5}}]
time=2017-04-22T17:51:58.379Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: -, Timed out after 30000 ms while waiting for a server that matches PrimaryServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=iot-mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: iot-mongo}, caused by {java.net.UnknownHostException: iot-mongo}}], Stack trace: [com.telefonica.iot.cygnus.sinks.NGSISTHSink$STHAggregator.persist(NGSISTHSink.java:374), com.telefonica.iot.cygnus.sinks.NGSISTHSink.persistBatch(NGSISTHSink.java:108), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:51:58.379Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #5
time=2017-04-22T17:51:58.380Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: -, Timed out after 30000 ms while waiting for a server that matches PrimaryServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=iot-mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: iot-mongo}, caused by {java.net.UnknownHostException: iot-mongo}}], Stack trace: [com.telefonica.iot.cygnus.sinks.NGSIMongoSink.persistAggregation(NGSIMongoSink.java:421), com.telefonica.iot.cygnus.sinks.NGSIMongoSink.persistBatch(NGSIMongoSink.java:129), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:51:58.381Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #5
time=2017-04-22T17:51:58.382Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIMongoSink[413] : [mongo-sink] Persisting data at NGSIMongoSink. Database: sth_qsg, Collection: sth_/testsink_Room1_Room, Data: [Document{{recvTime=Sat Apr 22 17:45:21 UTC 2017, attrName=temperature, attrType=float, attrValue=26.5}}]
time=2017-04-22T17:52:28.381Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: -, Timed out after 30000 ms while waiting for a server that matches PrimaryServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=iot-mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: iot-mongo}, caused by {java.net.UnknownHostException: iot-mongo}}], Stack trace: [com.telefonica.iot.cygnus.sinks.NGSISTHSink$STHAggregator.persist(NGSISTHSink.java:374), com.telefonica.iot.cygnus.sinks.NGSISTHSink.persistBatch(NGSISTHSink.java:108), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:52:28.382Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #7
time=2017-04-22T17:52:28.383Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: -, Timed out after 30000 ms while waiting for a server that matches PrimaryServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=iot-mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: iot-mongo}, caused by {java.net.UnknownHostException: iot-mongo}}], Stack trace: [com.telefonica.iot.cygnus.sinks.NGSIMongoSink.persistAggregation(NGSIMongoSink.java:421), com.telefonica.iot.cygnus.sinks.NGSIMongoSink.persistBatch(NGSIMongoSink.java:129), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:52:28.383Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #7
time=2017-04-22T17:52:28.383Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIMongoSink[413] : [mongo-sink] Persisting data at NGSIMongoSink. Database: sth_qsg, Collection: sth_/testsink_Room1_Room, Data: [Document{{recvTime=Sat Apr 22 17:46:12 UTC 2017, attrName=temperature, attrType=float, attrValue=26.5}}]
time=2017-04-22T17:52:58.383Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: -, Timed out after 30000 ms while waiting for a server that matches PrimaryServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=iot-mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: iot-mongo}, caused by {java.net.UnknownHostException: iot-mongo}}], Stack trace: [com.telefonica.iot.cygnus.sinks.NGSISTHSink$STHAggregator.persist(NGSISTHSink.java:374), com.telefonica.iot.cygnus.sinks.NGSISTHSink.persistBatch(NGSISTHSink.java:108), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:52:58.384Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #6
time=2017-04-22T17:52:58.385Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: -, Timed out after 30000 ms while waiting for a server that matches PrimaryServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=iot-mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: iot-mongo}, caused by {java.net.UnknownHostException: iot-mongo}}], Stack trace: [com.telefonica.iot.cygnus.sinks.NGSIMongoSink.persistAggregation(NGSIMongoSink.java:421), com.telefonica.iot.cygnus.sinks.NGSIMongoSink.persistBatch(NGSIMongoSink.java:129), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:52:58.386Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #6
time=2017-04-22T17:52:58.387Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIMongoSink[413] : [mongo-sink] Persisting data at NGSIMongoSink. Database: sth_qsg, Collection: sth_/testsink_Room1_Room, Data: [Document{{recvTime=Sat Apr 22 17:45:21 UTC 2017, attrName=temperature, attrType=float, attrValue=26.5}}]
time=2017-04-22T17:53:28.386Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: -, Timed out after 30000 ms while waiting for a server that matches PrimaryServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=iot-mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: iot-mongo}, caused by {java.net.UnknownHostException: iot-mongo}}], Stack trace: [com.telefonica.iot.cygnus.sinks.NGSISTHSink$STHAggregator.persist(NGSISTHSink.java:374), com.telefonica.iot.cygnus.sinks.NGSISTHSink.persistBatch(NGSISTHSink.java:108), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:53:28.387Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #8
time=2017-04-22T17:53:28.388Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: -, Timed out after 30000 ms while waiting for a server that matches PrimaryServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=iot-mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: iot-mongo}, caused by {java.net.UnknownHostException: iot-mongo}}], Stack trace: [com.telefonica.iot.cygnus.sinks.NGSIMongoSink.persistAggregation(NGSIMongoSink.java:421), com.telefonica.iot.cygnus.sinks.NGSIMongoSink.persistBatch(NGSIMongoSink.java:129), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:53:28.389Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #8
time=2017-04-22T17:53:28.390Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIMongoSink[413] : [mongo-sink] Persisting data at NGSIMongoSink. Database: sth_qsg, Collection: sth_/testsink_Room1_Room, Data: [Document{{recvTime=Sat Apr 22 17:46:12 UTC 2017, attrName=temperature, attrType=float, attrValue=26.5}}]
time=2017-04-22T17:53:58.389Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: -, Timed out after 30000 ms while waiting for a server that matches PrimaryServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=iot-mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: iot-mongo}, caused by {java.net.UnknownHostException: iot-mongo}}], Stack trace: [com.telefonica.iot.cygnus.sinks.NGSISTHSink$STHAggregator.persist(NGSISTHSink.java:374), com.telefonica.iot.cygnus.sinks.NGSISTHSink.persistBatch(NGSISTHSink.java:108), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:53:58.390Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #7
time=2017-04-22T17:53:58.392Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: -, Timed out after 30000 ms while waiting for a server that matches PrimaryServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=iot-mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: iot-mongo}, caused by {java.net.UnknownHostException: iot-mongo}}], Stack trace: [com.telefonica.iot.cygnus.sinks.NGSIMongoSink.persistAggregation(NGSIMongoSink.java:421), com.telefonica.iot.cygnus.sinks.NGSIMongoSink.persistBatch(NGSIMongoSink.java:129), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:53:58.392Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #7
time=2017-04-22T17:53:58.393Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIMongoSink[413] : [mongo-sink] Persisting data at NGSIMongoSink. Database: sth_qsg, Collection: sth_/testsink_Room1_Room, Data: [Document{{recvTime=Sat Apr 22 17:45:21 UTC 2017, attrName=temperature, attrType=float, attrValue=26.5}}]
time=2017-04-22T17:54:28.392Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: -, Timed out after 30000 ms while waiting for a server that matches PrimaryServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=iot-mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: iot-mongo}, caused by {java.net.UnknownHostException: iot-mongo}}], Stack trace: [com.telefonica.iot.cygnus.sinks.NGSISTHSink$STHAggregator.persist(NGSISTHSink.java:374), com.telefonica.iot.cygnus.sinks.NGSISTHSink.persistBatch(NGSISTHSink.java:108), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:54:28.392Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #9
time=2017-04-22T17:54:28.394Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: -, Timed out after 30000 ms while waiting for a server that matches PrimaryServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=iot-mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: iot-mongo}, caused by {java.net.UnknownHostException: iot-mongo}}], Stack trace: [com.telefonica.iot.cygnus.sinks.NGSIMongoSink.persistAggregation(NGSIMongoSink.java:421), com.telefonica.iot.cygnus.sinks.NGSIMongoSink.persistBatch(NGSIMongoSink.java:129), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:54:28.395Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #9
time=2017-04-22T17:54:28.396Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIMongoSink[413] : [mongo-sink] Persisting data at NGSIMongoSink. Database: sth_qsg, Collection: sth_/testsink_Room1_Room, Data: [Document{{recvTime=Sat Apr 22 17:46:12 UTC 2017, attrName=temperature, attrType=float, attrValue=26.5}}]
time=2017-04-22T17:54:58.395Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: -, Timed out after 30000 ms while waiting for a server that matches PrimaryServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=iot-mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: iot-mongo}, caused by {java.net.UnknownHostException: iot-mongo}}], Stack trace: [com.telefonica.iot.cygnus.sinks.NGSISTHSink$STHAggregator.persist(NGSISTHSink.java:374), com.telefonica.iot.cygnus.sinks.NGSISTHSink.persistBatch(NGSISTHSink.java:108), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:54:58.395Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #8
time=2017-04-22T17:54:58.397Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: -, Timed out after 30000 ms while waiting for a server that matches PrimaryServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=iot-mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: iot-mongo}, caused by {java.net.UnknownHostException: iot-mongo}}], Stack trace: [com.telefonica.iot.cygnus.sinks.NGSIMongoSink.persistAggregation(NGSIMongoSink.java:421), com.telefonica.iot.cygnus.sinks.NGSIMongoSink.persistBatch(NGSIMongoSink.java:129), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:54:58.398Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #8
time=2017-04-22T17:54:58.399Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIMongoSink[413] : [mongo-sink] Persisting data at NGSIMongoSink. Database: sth_qsg, Collection: sth_/testsink_Room1_Room, Data: [Document{{recvTime=Sat Apr 22 17:45:21 UTC 2017, attrName=temperature, attrType=float, attrValue=26.5}}]
time=2017-04-22T17:55:28.397Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: -, Timed out after 30000 ms while waiting for a server that matches PrimaryServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=iot-mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: iot-mongo}, caused by {java.net.UnknownHostException: iot-mongo}}], Stack trace: [com.telefonica.iot.cygnus.sinks.NGSISTHSink$STHAggregator.persist(NGSISTHSink.java:374), com.telefonica.iot.cygnus.sinks.NGSISTHSink.persistBatch(NGSISTHSink.java:108), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:55:28.398Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[470] : Finishing internal transaction (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #10
time=2017-04-22T17:55:28.400Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: -, Timed out after 30000 ms while waiting for a server that matches PrimaryServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=iot-mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: iot-mongo}, caused by {java.net.UnknownHostException: iot-mongo}}], Stack trace: [com.telefonica.iot.cygnus.sinks.NGSIMongoSink.persistAggregation(NGSIMongoSink.java:421), com.telefonica.iot.cygnus.sinks.NGSIMongoSink.persistBatch(NGSIMongoSink.java:129), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:55:28.401Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[470] : Finishing internal transaction (32bee22a-994a-477a-b345-27d77452ab7f), this was retry #10
time=2017-04-22T17:55:28.402Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIMongoSink[413] : [mongo-sink] Persisting data at NGSIMongoSink. Database: sth_qsg, Collection: sth_/testsink_Room1_Room, Data: [Document{{recvTime=Sat Apr 22 17:46:12 UTC 2017, attrName=temperature, attrType=float, attrValue=26.5}}]
time=2017-04-22T17:55:58.400Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: -, Timed out after 30000 ms while waiting for a server that matches PrimaryServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=iot-mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: iot-mongo}, caused by {java.net.UnknownHostException: iot-mongo}}], Stack trace: [com.telefonica.iot.cygnus.sinks.NGSISTHSink$STHAggregator.persist(NGSISTHSink.java:374), com.telefonica.iot.cygnus.sinks.NGSISTHSink.persistBatch(NGSISTHSink.java:108), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:55:58.401Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #9
time=2017-04-22T17:55:58.403Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: -, Timed out after 30000 ms while waiting for a server that matches PrimaryServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=iot-mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: iot-mongo}, caused by {java.net.UnknownHostException: iot-mongo}}], Stack trace: [com.telefonica.iot.cygnus.sinks.NGSIMongoSink.persistAggregation(NGSIMongoSink.java:421), com.telefonica.iot.cygnus.sinks.NGSIMongoSink.persistBatch(NGSIMongoSink.java:129), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:55:58.404Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[464] : Rollbacking again (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #9
time=2017-04-22T17:56:07.406Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=persistAggregation | msg=com.telefonica.iot.cygnus.sinks.NGSIMongoSink[413] : [mongo-sink] Persisting data at NGSIMongoSink. Database: sth_qsg, Collection: sth_/testsink_Room1_Room, Data: [Document{{recvTime=Sat Apr 22 17:46:12 UTC 2017, attrName=temperature, attrType=float, attrValue=26.5}}]
time=2017-04-22T17:56:37.405Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: -, Timed out after 30000 ms while waiting for a server that matches PrimaryServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=iot-mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: iot-mongo}, caused by {java.net.UnknownHostException: iot-mongo}}], Stack trace: [com.telefonica.iot.cygnus.sinks.NGSISTHSink$STHAggregator.persist(NGSISTHSink.java:374), com.telefonica.iot.cygnus.sinks.NGSISTHSink.persistBatch(NGSISTHSink.java:108), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:56:37.406Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[470] : Finishing internal transaction (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #10
time=2017-04-22T17:56:37.408Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=processRollbackedBatches | msg=com.telefonica.iot.cygnus.sinks.NGSISink[398] : Persistence error. Message: -, Timed out after 30000 ms while waiting for a server that matches PrimaryServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=iot-mongo:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: iot-mongo}, caused by {java.net.UnknownHostException: iot-mongo}}], Stack trace: [com.telefonica.iot.cygnus.sinks.NGSIMongoSink.persistAggregation(NGSIMongoSink.java:421), com.telefonica.iot.cygnus.sinks.NGSIMongoSink.persistBatch(NGSIMongoSink.java:129), com.telefonica.iot.cygnus.sinks.NGSISink.processRollbackedBatches(NGSISink.java:390), com.telefonica.iot.cygnus.sinks.NGSISink.process(NGSISink.java:372), org.apache.flume.sink.DefaultSinkProcessor.process(DefaultSinkProcessor.java:68), org.apache.flume.SinkRunner$PollingRunner.run(SinkRunner.java:147), java.lang.Thread.run(Thread.java:745)]
time=2017-04-22T17:56:37.408Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=doRollbackAgain | msg=com.telefonica.iot.cygnus.sinks.NGSISink[470] : Finishing internal transaction (38281a11-3c5c-4682-9199-4e93938b6d5b), this was retry #10
Warning: JAVA_HOME is not set!
+ exec /usr/bin/java -Xmx20m -Dflume.root.logger=INFO,console -Duser.timezone=UTC -Dfile.encoding=UTF-8 -cp '/opt/apache-flume/conf:/opt/apache-flume/lib/*:/opt/apache-flume/plugins.d/cygnus/lib/*:/opt/apache-flume/plugins.d/cygnus/libext/*' -Djava.library.path= com.telefonica.iot.cygnus.nodes.CygnusApplication -f /opt/apache-flume/conf/agent.conf -n cygnus-ngsi -p 8081
SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/opt/apache-flume/lib/slf4j-log4j12-1.6.1.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/opt/apache-flume/plugins.d/cygnus/lib/cygnus-ngsi-1.7.0_SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/opt/apache-flume/plugins.d/cygnus/libext/cygnus-common-1.7.0_SNAPSHOT-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
time=2017-04-25T08:41:30.140Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=N/A | op=main | msg=com.telefonica.iot.cygnus.nodes.CygnusApplication[171] : Starting Cygnus, version 1.7.0_SNAPSHOT.d3139382e76e8c1ed64187ff46aa019734b14c0a
time=2017-04-25T08:41:30.263Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=main | msg=com.telefonica.iot.cygnus.nodes.CygnusApplication[294] : Waiting for valid Flume components references...
time=2017-04-25T08:41:30.263Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=start | msg=org.apache.flume.node.PollingPropertiesFileConfigurationProvider[61] : Configuration provider starting
time=2017-04-25T08:41:30.266Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=run | msg=org.apache.flume.node.PollingPropertiesFileConfigurationProvider$FileWatcherRunnable[133] : Reloading configuration file:/opt/apache-flume/conf/agent.conf
time=2017-04-25T08:41:30.274Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:hdfs-sink
time=2017-04-25T08:41:30.274Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:sth-sink
time=2017-04-25T08:41:30.274Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:cartodb-sink
time=2017-04-25T08:41:30.274Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:ckan-sink
time=2017-04-25T08:41:30.275Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:cartodb-sink
time=2017-04-25T08:41:30.275Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:mongo-sink
time=2017-04-25T08:41:30.275Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:mysql-sink
time=2017-04-25T08:41:30.275Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:hdfs-sink
time=2017-04-25T08:41:30.275Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:hdfs-sink
time=2017-04-25T08:41:30.275Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:mysql-sink
time=2017-04-25T08:41:30.276Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:mysql-sink
time=2017-04-25T08:41:30.276Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:mysql-sink
time=2017-04-25T08:41:30.278Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:hdfs-sink
time=2017-04-25T08:41:30.278Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:mongo-sink
time=2017-04-25T08:41:30.279Z | lvl=WARN | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=<init> | msg=org.apache.flume.conf.FlumeConfiguration[101] : Configuration property ignored: cygnus-ngsi.sinks.ckan-sink.api_key = 
time=2017-04-25T08:41:30.279Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:ckan-sink
time=2017-04-25T08:41:30.279Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[930] : Added sinks: mysql-sink mongo-sink sth-sink ckan-sink hdfs-sink cartodb-sink Agent: cygnus-ngsi
time=2017-04-25T08:41:30.279Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:ckan-sink
time=2017-04-25T08:41:30.280Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:cartodb-sink
time=2017-04-25T08:41:30.280Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:hdfs-sink
time=2017-04-25T08:41:30.280Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:mysql-sink
time=2017-04-25T08:41:30.280Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:sth-sink
time=2017-04-25T08:41:30.280Z | lvl=WARN | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=<init> | msg=org.apache.flume.conf.FlumeConfiguration[101] : Configuration property ignored: cygnus-ngsi.sinks.hdfs-sink.oauth2_token = 
time=2017-04-25T08:41:30.280Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:mongo-sink
time=2017-04-25T08:41:30.281Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:mongo-sink
time=2017-04-25T08:41:30.281Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:ckan-sink
time=2017-04-25T08:41:30.281Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:sth-sink
time=2017-04-25T08:41:30.281Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:sth-sink
time=2017-04-25T08:41:30.281Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:ckan-sink
time=2017-04-25T08:41:30.281Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:sth-sink
time=2017-04-25T08:41:30.282Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:mysql-sink
time=2017-04-25T08:41:30.282Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=addProperty | msg=org.apache.flume.conf.FlumeConfiguration$AgentConfiguration[1016] : Processing:mongo-sink
time=2017-04-25T08:41:30.294Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=validateConfiguration | msg=org.apache.flume.conf.FlumeConfiguration[140] : Post-validation flume configuration contains configuration for agents: [cygnus-ngsi]
time=2017-04-25T08:41:30.294Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=loadChannels | msg=org.apache.flume.node.AbstractConfigurationProvider[150] : Creating channels
time=2017-04-25T08:41:30.301Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=create | msg=org.apache.flume.channel.DefaultChannelFactory[40] : Creating instance of channel cartodb-channel type com.telefonica.iot.cygnus.channels.CygnusMemoryChannel
time=2017-04-25T08:41:30.305Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=loadChannels | msg=org.apache.flume.node.AbstractConfigurationProvider[205] : Created channel cartodb-channel
time=2017-04-25T08:41:30.306Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=create | msg=org.apache.flume.channel.DefaultChannelFactory[40] : Creating instance of channel sth-channel type com.telefonica.iot.cygnus.channels.CygnusMemoryChannel
time=2017-04-25T08:41:30.306Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=loadChannels | msg=org.apache.flume.node.AbstractConfigurationProvider[205] : Created channel sth-channel
time=2017-04-25T08:41:30.306Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=create | msg=org.apache.flume.channel.DefaultChannelFactory[40] : Creating instance of channel ckan-channel type com.telefonica.iot.cygnus.channels.CygnusMemoryChannel
time=2017-04-25T08:41:30.306Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=loadChannels | msg=org.apache.flume.node.AbstractConfigurationProvider[205] : Created channel ckan-channel
time=2017-04-25T08:41:30.306Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=create | msg=org.apache.flume.channel.DefaultChannelFactory[40] : Creating instance of channel hdfs-channel type com.telefonica.iot.cygnus.channels.CygnusMemoryChannel
time=2017-04-25T08:41:30.307Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=loadChannels | msg=org.apache.flume.node.AbstractConfigurationProvider[205] : Created channel hdfs-channel
time=2017-04-25T08:41:30.307Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=create | msg=org.apache.flume.channel.DefaultChannelFactory[40] : Creating instance of channel mongo-channel type com.telefonica.iot.cygnus.channels.CygnusMemoryChannel
time=2017-04-25T08:41:30.307Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=loadChannels | msg=org.apache.flume.node.AbstractConfigurationProvider[205] : Created channel mongo-channel
time=2017-04-25T08:41:30.307Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=create | msg=org.apache.flume.channel.DefaultChannelFactory[40] : Creating instance of channel mysql-channel type com.telefonica.iot.cygnus.channels.CygnusMemoryChannel
time=2017-04-25T08:41:30.307Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=loadChannels | msg=org.apache.flume.node.AbstractConfigurationProvider[205] : Created channel mysql-channel
time=2017-04-25T08:41:30.308Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=create | msg=org.apache.flume.source.DefaultSourceFactory[39] : Creating instance of source http-source, type org.apache.flume.source.http.HTTPSource
time=2017-04-25T08:41:30.328Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=configure | msg=com.telefonica.iot.cygnus.handlers.NGSIRestHandler[157] : [NGSIRestHandler] Startup completed
time=2017-04-25T08:41:30.342Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=create | msg=org.apache.flume.sink.DefaultSinkFactory[40] : Creating instance of sink: ckan-sink, type: com.telefonica.iot.cygnus.sinks.NGSICKANSink
time=2017-04-25T08:41:30.349Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=create | msg=org.apache.flume.sink.DefaultSinkFactory[40] : Creating instance of sink: cartodb-sink, type: com.telefonica.iot.cygnus.sinks.NGSICartoDBSink
time=2017-04-25T08:41:30.351Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=create | msg=org.apache.flume.sink.DefaultSinkFactory[40] : Creating instance of sink: hdfs-sink, type: com.telefonica.iot.cygnus.sinks.NGSIHDFSSink
time=2017-04-25T08:41:30.355Z | lvl=WARN | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=configure | msg=com.telefonica.iot.cygnus.sinks.NGSIHDFSSink[289] : [hdfs-sink] No OAuth2 token provided. Cygnus can continue, but HDFS sink may not properly work if WebHDFS service is protected with such an authentication and authorization mechanism!
time=2017-04-25T08:41:30.357Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=create | msg=org.apache.flume.sink.DefaultSinkFactory[40] : Creating instance of sink: mongo-sink, type: com.telefonica.iot.cygnus.sinks.NGSIMongoSink
time=2017-04-25T08:41:30.360Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=create | msg=org.apache.flume.sink.DefaultSinkFactory[40] : Creating instance of sink: mysql-sink, type: com.telefonica.iot.cygnus.sinks.NGSIMySQLSink
time=2017-04-25T08:41:30.362Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=create | msg=org.apache.flume.sink.DefaultSinkFactory[40] : Creating instance of sink: sth-sink, type: com.telefonica.iot.cygnus.sinks.NGSISTHSink
time=2017-04-25T08:41:30.364Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=getConfiguration | msg=org.apache.flume.node.AbstractConfigurationProvider[119] : Channel cartodb-channel connected to [http-source, cartodb-sink]
time=2017-04-25T08:41:30.365Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=getConfiguration | msg=org.apache.flume.node.AbstractConfigurationProvider[119] : Channel sth-channel connected to [http-source, sth-sink]
time=2017-04-25T08:41:30.365Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=getConfiguration | msg=org.apache.flume.node.AbstractConfigurationProvider[119] : Channel ckan-channel connected to [http-source, ckan-sink]
time=2017-04-25T08:41:30.365Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=getConfiguration | msg=org.apache.flume.node.AbstractConfigurationProvider[119] : Channel hdfs-channel connected to [http-source, hdfs-sink]
time=2017-04-25T08:41:30.365Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=getConfiguration | msg=org.apache.flume.node.AbstractConfigurationProvider[119] : Channel mongo-channel connected to [http-source, mongo-sink]
time=2017-04-25T08:41:30.365Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=getConfiguration | msg=org.apache.flume.node.AbstractConfigurationProvider[119] : Channel mysql-channel connected to [http-source, mysql-sink]
time=2017-04-25T08:41:30.370Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=startAllComponents | msg=org.apache.flume.node.Application[138] : Starting new configuration:{ sourceRunners:{http-source=EventDrivenSourceRunner: { source:org.apache.flume.source.http.HTTPSource{name:http-source,state:IDLE} }} sinkRunners:{ckan-sink=SinkRunner: { policy:org.apache.flume.sink.DefaultSinkProcessor@26d82faa counterGroup:{ name:null counters:{} } }, cartodb-sink=SinkRunner: { policy:org.apache.flume.sink.DefaultSinkProcessor@3b2155d2 counterGroup:{ name:null counters:{} } }, hdfs-sink=SinkRunner: { policy:org.apache.flume.sink.DefaultSinkProcessor@9896c52 counterGroup:{ name:null counters:{} } }, mongo-sink=SinkRunner: { policy:org.apache.flume.sink.DefaultSinkProcessor@1d268062 counterGroup:{ name:null counters:{} } }, mysql-sink=SinkRunner: { policy:org.apache.flume.sink.DefaultSinkProcessor@4ab6b0e1 counterGroup:{ name:null counters:{} } }, sth-sink=SinkRunner: { policy:org.apache.flume.sink.DefaultSinkProcessor@2016aa19 counterGroup:{ name:null counters:{} } }} channels:{cartodb-channel=com.telefonica.iot.cygnus.channels.CygnusMemoryChannel{name: cartodb-channel}, sth-channel=com.telefonica.iot.cygnus.channels.CygnusMemoryChannel{name: sth-channel}, ckan-channel=com.telefonica.iot.cygnus.channels.CygnusMemoryChannel{name: ckan-channel}, mysql-channel=com.telefonica.iot.cygnus.channels.CygnusMemoryChannel{name: mysql-channel}, mongo-channel=com.telefonica.iot.cygnus.channels.CygnusMemoryChannel{name: mongo-channel}, hdfs-channel=com.telefonica.iot.cygnus.channels.CygnusMemoryChannel{name: hdfs-channel}} }
time=2017-04-25T08:41:30.370Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=startAllComponents | msg=org.apache.flume.node.Application[145] : Starting Channel cartodb-channel
time=2017-04-25T08:41:30.371Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=startAllComponents | msg=org.apache.flume.node.Application[145] : Starting Channel sth-channel
time=2017-04-25T08:41:30.371Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=startAllComponents | msg=org.apache.flume.node.Application[145] : Starting Channel ckan-channel
time=2017-04-25T08:41:30.371Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=startAllComponents | msg=org.apache.flume.node.Application[145] : Starting Channel mysql-channel
time=2017-04-25T08:41:30.372Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=startAllComponents | msg=org.apache.flume.node.Application[145] : Starting Channel mongo-channel
time=2017-04-25T08:41:30.372Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=startAllComponents | msg=org.apache.flume.node.Application[145] : Starting Channel hdfs-channel
time=2017-04-25T08:41:30.420Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=register | msg=org.apache.flume.instrumentation.MonitoredCounterGroup[110] : Monitoried counter group for type: CHANNEL, name: sth-channel, registered successfully.
time=2017-04-25T08:41:30.420Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=register | msg=org.apache.flume.instrumentation.MonitoredCounterGroup[110] : Monitoried counter group for type: CHANNEL, name: ckan-channel, registered successfully.
time=2017-04-25T08:41:30.420Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=start | msg=org.apache.flume.instrumentation.MonitoredCounterGroup[94] : Component type: CHANNEL, name: sth-channel started
time=2017-04-25T08:41:30.420Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=register | msg=org.apache.flume.instrumentation.MonitoredCounterGroup[110] : Monitoried counter group for type: CHANNEL, name: mysql-channel, registered successfully.
time=2017-04-25T08:41:30.420Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=start | msg=org.apache.flume.instrumentation.MonitoredCounterGroup[94] : Component type: CHANNEL, name: mysql-channel started
time=2017-04-25T08:41:30.420Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=register | msg=org.apache.flume.instrumentation.MonitoredCounterGroup[110] : Monitoried counter group for type: CHANNEL, name: mongo-channel, registered successfully.
time=2017-04-25T08:41:30.420Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=register | msg=org.apache.flume.instrumentation.MonitoredCounterGroup[110] : Monitoried counter group for type: CHANNEL, name: cartodb-channel, registered successfully.
time=2017-04-25T08:41:30.420Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=register | msg=org.apache.flume.instrumentation.MonitoredCounterGroup[110] : Monitoried counter group for type: CHANNEL, name: hdfs-channel, registered successfully.
time=2017-04-25T08:41:30.421Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=start | msg=org.apache.flume.instrumentation.MonitoredCounterGroup[94] : Component type: CHANNEL, name: cartodb-channel started
time=2017-04-25T08:41:30.421Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=start | msg=org.apache.flume.instrumentation.MonitoredCounterGroup[94] : Component type: CHANNEL, name: mongo-channel started
time=2017-04-25T08:41:30.420Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=start | msg=org.apache.flume.instrumentation.MonitoredCounterGroup[94] : Component type: CHANNEL, name: ckan-channel started
time=2017-04-25T08:41:30.421Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=start | msg=org.apache.flume.instrumentation.MonitoredCounterGroup[94] : Component type: CHANNEL, name: hdfs-channel started
time=2017-04-25T08:41:30.422Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=startAllComponents | msg=org.apache.flume.node.Application[173] : Starting Sink ckan-sink
time=2017-04-25T08:41:30.424Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=startAllComponents | msg=org.apache.flume.node.Application[173] : Starting Sink cartodb-sink
time=2017-04-25T08:41:30.424Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=startAllComponents | msg=org.apache.flume.node.Application[173] : Starting Sink hdfs-sink
time=2017-04-25T08:41:30.424Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=startAllComponents | msg=org.apache.flume.node.Application[173] : Starting Sink mongo-sink
time=2017-04-25T08:41:30.425Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=startAllComponents | msg=org.apache.flume.node.Application[173] : Starting Sink mysql-sink
time=2017-04-25T08:41:30.425Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=startAllComponents | msg=org.apache.flume.node.Application[173] : Starting Sink sth-sink
time=2017-04-25T08:41:30.425Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=startAllComponents | msg=org.apache.flume.node.Application[184] : Starting Source http-source
time=2017-04-25T08:41:30.425Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=initializeBackend | msg=com.telefonica.iot.cygnus.sinks.NGSICartoDBSink[284] : [cartodb-sink] Json containing CartoDB API keys has been read: {   "cartodb_keys": [      {         "username": "carto",         "endpoint": "https://carto.cartodb.com","key":"carto"      }   ]}
time=2017-04-25T08:41:30.432Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=start | msg=com.telefonica.iot.cygnus.sinks.NGSISink[356] : [sth-sink] Startup completed
time=2017-04-25T08:41:30.432Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=start | msg=com.telefonica.iot.cygnus.sinks.NGSISink[356] : [mongo-sink] Startup completed
time=2017-04-25T08:41:30.435Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=<init> | msg=com.telefonica.iot.cygnus.interceptors.CygnusGroupingRules[53] : Grouping rules read: 
time=2017-04-25T08:41:30.440Z | lvl=WARN | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=<init> | msg=com.telefonica.iot.cygnus.interceptors.CygnusGroupingRules[61] : Grouping rules syntax has errors. Details: null
time=2017-04-25T08:41:30.443Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=initializeBackend | msg=com.telefonica.iot.cygnus.sinks.NGSICartoDBSink[288] : [cartodb-sink] Json containing CartoDB API keys is syntactically OK
time=2017-04-25T08:41:30.444Z | lvl=WARN | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=initializeBackend | msg=com.telefonica.iot.cygnus.sinks.NGSICartoDBSink[350] : [cartodb-sink] Invalid API key entry, type is null or empty. Discarding it.
time=2017-04-25T08:41:30.444Z | lvl=ERROR | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=start | msg=com.telefonica.iot.cygnus.sinks.NGSICartoDBSink[274] : [cartodb-sink] Error while creating the CartoDB persistence backend. Details: All the API key entries were discarded
time=2017-04-25T08:41:30.444Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=start | msg=com.telefonica.iot.cygnus.sinks.NGSISink[346] : [cartodb-sink] Startup completed. Nevertheless, there are errors in the configuration, thus this sink will not run the expected logic
time=2017-04-25T08:41:30.450Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=<init> | msg=com.telefonica.iot.cygnus.interceptors.CygnusGroupingRules[53] : Grouping rules read: 
time=2017-04-25T08:41:30.450Z | lvl=WARN | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=<init> | msg=com.telefonica.iot.cygnus.interceptors.CygnusGroupingRules[61] : Grouping rules syntax has errors. Details: null
time=2017-04-25T08:41:30.451Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=start | msg=com.telefonica.iot.cygnus.sinks.NGSISink[356] : [mysql-sink] Startup completed
time=2017-04-25T08:41:30.568Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=register | msg=org.apache.flume.instrumentation.MonitoredCounterGroup[110] : Monitoried counter group for type: SOURCE, name: http-source, registered successfully.
time=2017-04-25T08:41:30.569Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=start | msg=org.apache.flume.instrumentation.MonitoredCounterGroup[94] : Component type: SOURCE, name: http-source started
time=2017-04-25T08:41:30.710Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=<init> | msg=com.telefonica.iot.cygnus.backends.http.HttpClientFactory[81] : Setting max total connections (500)
time=2017-04-25T08:41:30.711Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=<init> | msg=com.telefonica.iot.cygnus.backends.http.HttpClientFactory[82] : Setting default max connections per route (100)
time=2017-04-25T08:41:30.710Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=<init> | msg=com.telefonica.iot.cygnus.backends.http.HttpClientFactory[81] : Setting max total connections (500)
time=2017-04-25T08:41:30.711Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=<init> | msg=com.telefonica.iot.cygnus.backends.http.HttpClientFactory[82] : Setting default max connections per route (100)
time=2017-04-25T08:41:30.726Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=start | msg=com.telefonica.iot.cygnus.sinks.NGSISink[356] : [hdfs-sink] Startup completed
time=2017-04-25T08:41:30.740Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=<init> | msg=com.telefonica.iot.cygnus.backends.http.HttpClientFactory[81] : Setting max total connections (500)
time=2017-04-25T08:41:30.740Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=<init> | msg=com.telefonica.iot.cygnus.backends.http.HttpClientFactory[82] : Setting default max connections per route (100)
time=2017-04-25T08:41:30.741Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=start | msg=com.telefonica.iot.cygnus.sinks.NGSISink[356] : [ckan-sink] Startup completed
time=2017-04-25T08:41:31.263Z | lvl=INFO | corr=N/A | trans=N/A | srv=N/A | subsrv=N/A | comp=cygnus-ngsi | op=main | msg=com.telefonica.iot.cygnus.nodes.CygnusApplication[306] : Starting a Jetty server listening on 0.0.0.0:8081 (Management Interface)
